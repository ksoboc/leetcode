<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Check If It Is a Straight Line - Solution</title>
</head>
<body>
<h2 id="solution">Solution</h2>
<hr>
<h4 id="approach-slope-property">Approach: Slope Property</h4>
<p><strong>Intuition</strong></p>
<p>We are given <span class="math math-inline"><span class="katex"><span class="katex-mathml">NN</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 0.6833em;"></span><span
        class="mord mathnormal" style="margin-right: 0.10903em;">N</span></span></span></span></span> points <code>(x,
    y)</code>, where <code>x</code> and <code>y</code> represent the coordinates. We must return <code>true</code> if
    the points make a straight line and <code>false</code> otherwise.</p>
<p>To solve this problem, we will use the slope property of a straight line. The slope of a line is defined as the
    change in Y coordinates with respect to the change in X coordinates of any two points on the line.</p>
<blockquote>
    <p>Slope = <span class="math math-inline"><span class="katex"><span class="katex-mathml">ΔYΔX\frac{\Delta Y}{\Delta X}</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1.2173em; vertical-align: -0.345em;"></span><span
            class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8723em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Δ</span><span
            class="mord mathnormal mtight" style="margin-right: 0.07847em;">X</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Δ</span><span
            class="mord mathnormal mtight" style="margin-right: 0.22222em;">Y</span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span></span></span></span></span></p>
</blockquote>
<p>The property that can be used to solve this problem is that the slope between any two points on a straight line will
    be the same. If we choose two points from the given list of points, the value of <code>Slope</code> as defined above
    should be the same.</p>
<p>We don't actually need to check all pairs of points, but only all slopes relative to one fixed point. We will choose
    to measure from the point at index <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">00</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span> and
    see if all slopes are the same.</p>
<p><img src="1232A.png" alt="fig"></p>
<p>So if we have three points <code>p0, p1, p2</code>, and the slope using <code>p0 and p1</code> is <span
        class="math math-inline"><span class="katex"><span class="katex-mathml">ΔY1ΔX1\frac{\Delta Y1}{\Delta X1}</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 1.2173em; vertical-align: -0.345em;"></span><span
        class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span
        class="vlist-r"><span class="vlist" style="height: 0.8723em;"><span style="top: -2.655em;"><span class="pstrut"
                                                                                                         style="height: 3em;"></span><span
        class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Δ</span><span
        class="mord mathnormal mtight" style="margin-right: 0.07847em;">X</span><span
        class="mord mtight">1</span></span></span></span><span style="top: -3.23em;"><span class="pstrut"
                                                                                           style="height: 3em;"></span><span
        class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.394em;"><span
        class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span
        class="mord mtight"><span class="mord mtight">Δ</span><span class="mord mathnormal mtight"
                                                                    style="margin-right: 0.22222em;">Y</span><span
        class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span
        class="vlist-r"><span class="vlist" style="height: 0.345em;"><span></span></span></span></span></span><span
        class="mclose nulldelimiter"></span></span></span></span></span></span> and the slope between <code>p0 and
    p2</code> is <span class="math math-inline"><span class="katex"><span class="katex-mathml">ΔY2ΔX2\frac{\Delta Y2}{\Delta X2}</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 1.2173em; vertical-align: -0.345em;"></span><span
        class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span
        class="vlist-r"><span class="vlist" style="height: 0.8723em;"><span style="top: -2.655em;"><span class="pstrut"
                                                                                                         style="height: 3em;"></span><span
        class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Δ</span><span
        class="mord mathnormal mtight" style="margin-right: 0.07847em;">X</span><span
        class="mord mtight">2</span></span></span></span><span style="top: -3.23em;"><span class="pstrut"
                                                                                           style="height: 3em;"></span><span
        class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.394em;"><span
        class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span
        class="mord mtight"><span class="mord mtight">Δ</span><span class="mord mathnormal mtight"
                                                                    style="margin-right: 0.22222em;">Y</span><span
        class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span
        class="vlist-r"><span class="vlist" style="height: 0.345em;"><span></span></span></span></span></span><span
        class="mclose nulldelimiter"></span></span></span></span></span></span>, we will check if these two slopes are
    equal or not, i.e. <span class="math math-inline"><span class="katex"><span class="katex-mathml">ΔY1ΔX1\frac{\Delta Y1}{\Delta X1}</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1.2173em; vertical-align: -0.345em;"></span><span
            class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8723em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Δ</span><span
            class="mord mathnormal mtight" style="margin-right: 0.07847em;">X</span><span
            class="mord mtight">1</span></span></span></span><span style="top: -3.23em;"><span class="pstrut"
                                                                                               style="height: 3em;"></span><span
            class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.394em;"><span
            class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span
            class="mord mtight"><span class="mord mtight">Δ</span><span class="mord mathnormal mtight"
                                                                        style="margin-right: 0.22222em;">Y</span><span
            class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span
            class="vlist-r"><span class="vlist" style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span></span></span></span></span> = <span
            class="math math-inline"><span class="katex"><span
            class="katex-mathml">ΔY2ΔX2\frac{\Delta Y2}{\Delta X2}</span><span class="katex-html"
                                                                               aria-hidden="true"><span
            class="base"><span class="strut" style="height: 1.2173em; vertical-align: -0.345em;"></span><span
            class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8723em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Δ</span><span
            class="mord mathnormal mtight" style="margin-right: 0.07847em;">X</span><span
            class="mord mtight">2</span></span></span></span><span style="top: -3.23em;"><span class="pstrut"
                                                                                               style="height: 3em;"></span><span
            class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.394em;"><span
            class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span
            class="mord mtight"><span class="mord mtight">Δ</span><span class="mord mathnormal mtight"
                                                                        style="margin-right: 0.22222em;">Y</span><span
            class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span
            class="vlist-r"><span class="vlist" style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span></span></span></span></span> . Since <span
            class="math math-inline"><span class="katex"><span class="katex-mathml">ΔX\Delta X</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.6833em;"></span><span
            class="mord">Δ</span><span class="mord mathnormal"
                                       style="margin-right: 0.07847em;">X</span></span></span></span></span> can be zero
    as well and in that case dividing by it would cause an issue. We can tweak the previous equality equation to convert
    division into multiplication to avoid the divide by zero issues. The new equation would be:</p>
<blockquote>
    <p><span class="math math-inline"><span class="katex"><span class="katex-mathml">ΔY1\Delta Y1</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.6833em;"></span><span
            class="mord">Δ</span><span class="mord mathnormal" style="margin-right: 0.22222em;">Y</span><span
            class="mord">1</span></span></span></span></span> * <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">ΔX2\Delta X2</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.6833em;"></span><span class="mord">Δ</span><span class="mord mathnormal"
                                                                                            style="margin-right: 0.07847em;">X</span><span
            class="mord">2</span></span></span></span></span> = <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">ΔY2\Delta Y2</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.6833em;"></span><span class="mord">Δ</span><span class="mord mathnormal"
                                                                                            style="margin-right: 0.22222em;">Y</span><span
            class="mord">2</span></span></span></span></span> * <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">ΔX1\Delta X1</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.6833em;"></span><span class="mord">Δ</span><span class="mord mathnormal"
                                                                                            style="margin-right: 0.07847em;">X</span><span
            class="mord">1</span></span></span></span></span></p>
</blockquote>
<p><strong>Algorithm</strong></p>
<ol>
    <li>Find the <span class="math math-inline"><span class="katex"><span class="katex-mathml">ΔX\Delta X</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.6833em;"></span><span
            class="mord">Δ</span><span class="mord mathnormal"
                                       style="margin-right: 0.07847em;">X</span></span></span></span></span> and <span
            class="math math-inline"><span class="katex"><span class="katex-mathml">ΔY\Delta Y</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.6833em;"></span><span
            class="mord">Δ</span><span class="mord mathnormal"
                                       style="margin-right: 0.22222em;">Y</span></span></span></span></span> using the
        points at index <code>0</code> and <code>1</code>.
    </li>
    <li>Iterate over the indices from <code>2</code> to the end of the list, and for each index <code>i</code> find the
        <span class="math math-inline"><span class="katex"><span class="katex-mathml">ΔX\Delta X</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.6833em;"></span><span
                class="mord">Δ</span><span class="mord mathnormal"
                                           style="margin-right: 0.07847em;">X</span></span></span></span></span>, <span
                class="math math-inline"><span class="katex"><span class="katex-mathml">ΔY\Delta Y</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.6833em;"></span><span
                class="mord">Δ</span><span class="mord mathnormal"
                                           style="margin-right: 0.22222em;">Y</span></span></span></span></span> for
        points at index <code>0</code> and <code>i</code>.
    </li>
    <li>Compare the slope calculated in step #1 with that of step #2 using the previous equation.</li>
    <li>If the equation is not satisfied, return <code>false</code>.</li>
    <li>Otherwise, at the end of the loop return <code>true</code>.</li>
</ol>
<p><strong>Implementation</strong></p>
<pre>
    Java
    <code>
        class Solution {
    // Returns the delta Y.
    int getYDiff(int[] a, int[] b) {
        return a[1] - b[1];
    }

    // Returns the delta X.
    int getXDiff(int[] a, int[] b) {
        return a[0] - b[0];
    }

    public boolean checkStraightLine(int[][] coordinates) {
        int deltaY = getYDiff(coordinates[1], coordinates[0]);
        int deltaX = getXDiff(coordinates[1], coordinates[0]);

        for (int i = 2; i < coordinates.length; i++) {
            // Check if the slope between points 0 and i, is the same as between 0 and 1.
            if (deltaY * getXDiff(coordinates[i], coordinates[0])
                != deltaX * getYDiff(coordinates[i], coordinates[0])) {
                return false;
            }
        }
        return true;
    }
}
    </code>
    C++
    <code>
        class Solution {
public:
    // Returns the delta Y.
    int getYDiff(vector<int>& a, vector<int>& b) {
        return a[1] - b[1];
    }

    // Returns the delta X.
    int getXDiff(vector<int>& a, vector<int>& b) {
        return a[0] - b[0];
    }

    bool checkStraightLine(vector<vector<int>>& coordinates) {
        int deltaY = getYDiff(coordinates[1], coordinates[0]);
        int deltaX = getXDiff(coordinates[1], coordinates[0]);

        for (int i = 2; i < coordinates.size(); i++) {
            // Check if the slope between points 0 and i, is the same as between 0 and 1.
            if (deltaY * getXDiff(coordinates[i], coordinates[0])
                != deltaX * getYDiff(coordinates[i], coordinates[0])) {
                return false;
            }
        }
        return true;
    }
};
    </code>
</pre>
<p><strong>Complexity Analysis</strong></p>
<p>Here <span class="math math-inline"><span class="katex"><span class="katex-mathml">NN</span><span class="katex-html"
                                                                                                     aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal"
                                                                                style="margin-right: 0.10903em;">N</span></span></span></span></span>
    is the number of points in the list <code>coordinates</code>.</p>
<ul>
    <li>
        <p>Time complexity: <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">O(N)O(N)</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal"
                                                                                         style="margin-right: 0.02778em;">O</span><span
                class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.10903em;">N</span><span
                class="mclose">)</span></span></span></span></span>.</p>
        <p>We need to iterate over every point only once, and hence the total time complexity would be equal to <span
                class="math math-inline"><span class="katex"><span class="katex-mathml">O(N)O(N)</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
                class="mord mathnormal" style="margin-right: 0.10903em;">N</span><span
                class="mclose">)</span></span></span></span></span>.</p>
    </li>
    <li>
        <p>Space complexity: <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">O(1)O(1)</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal"
                                                                                         style="margin-right: 0.02778em;">O</span><span
                class="mopen">(</span><span class="mord">1</span><span
                class="mclose">)</span></span></span></span></span>.</p>
        <p>We don't require any extra space, and hence the space complexity would be constant.<br>
            <br></p>
    </li>
</ul>
<hr>
</body>
</html>