<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Group the People Given the Group Size They Belong To - Solution</title>
</head>
<body>
<h2 id="solution">Group the People Given the Group Size They Belong To - Solution</h2>
<hr>
<h4 id="approach-greedy">Approach: Greedy</h4>
<p><strong>Intuition</strong></p>
<p>There are <span class="math math-inline"><span class="katex"><span class="katex-mathml">NN</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 0.6833em;"></span><span
        class="mord mathnormal" style="margin-right: 0.10903em;">N</span></span></span></span></span> people, and each
    one needs to be part of exactly one group with a size from <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">11</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span> to
    <span class="math math-inline"><span class="katex"><span class="katex-mathml">NN</span><span class="katex-html"
                                                                                                 aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal"
                                                                                    style="margin-right: 0.10903em;">N</span></span></span></span></span>.
    We are given an array <code>groupSizes</code> with <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">NN</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal"
                                                                 style="margin-right: 0.10903em;">N</span></span></span></span></span>
    integers; the <code>ith</code> integer in the array denotes the size of the group that this person should be a part
    of. We need to return the list of groups, where each group has the indices that should be in that group.</p>
<p>There can be multiple possible answers to the problem; this is because if there are multiple groups of the same size,
    it doesn't matter which people should be in which group. We can group any set of people as long as the group size
    meets the requirement. For example, if the <code>groupSizes</code> is <code>[3,3,3,3,3,1,3]</code>, then two of the
    possible solutions are <code>[[0,1,2],[3,4,6],[5]]</code> and <code>[[0,1,3],[2,4,6],[5]]</code>. Since the order of
    groups doesn't matter, <code>[[5],[0,1,2],[3,4,6]]</code> is also a possible solution.</p>
<p>We will follow the same approach as above; we will keep an unordered map from an integer to an array. The key integer
    denotes the size of the group, and the array will store the indices of people. Whenever the size of the array
    becomes equal to the integer key, i.e. the size, we store the array in the final answer and empty the array for any
    other group of the same size. This ensures that each person is a part of exactly one group and always grouped with
    people of the same group size.</p>
<p>
<div class="relative mx-auto mb-6 flex flex-col overflow-hidden rounded-lg border-[1px] border-label-1"
     style="max-width: 960px;">
    <div class="rounded-lg" style="max-height: 720px;"><img alt="Current"
                                                            class="object-fit-contain !mb-0 max-h-full max-w-full"
                                                            src="blob:https://leetcode.com/58e63cb8-b90b-499f-814c-019c23072af2">
    </div>
    <div class="absolute top-[50%] left-[50%] flex h-12 w-12 translate-x-[-50%] translate-y-[-50%] items-center justify-center rounded-full bg-black/30">
        <div class="flex h-4 w-4 cursor-pointer items-center justify-center text-[35px]">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="1em" height="1em" fill="currentColor"
                 class="h-full w-full text-white">
                <path fill-rule="evenodd"
                      d="M18.97 12.871l-12.96 7.29a1 1 0 01-1.49-.87V4.71a1 1 0 011.49-.872l12.96 7.29a1 1 0 010 1.743z"
                      clip-rule="evenodd"></path>
            </svg>
        </div>
    </div>
    <div class="relative flex h-8 select-none items-center justify-around bg-black">
        <div class="flex items-center space-x-7">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="1em" height="1em" fill="currentColor"
                 class="w-4 cursor-pointer text-gray-6 dark:text-dark-gray-6 hover:text-gray-7 dark:hover:text-dark-gray-7">
                <path fill-rule="evenodd"
                      d="M16.091 4.929l-7.057 7.078 7.057 7.064a1 1 0 01-1.414 1.414l-7.764-7.77a1 1 0 010-1.415l7.764-7.785a1 1 0 111.415 1.414z"
                      clip-rule="evenodd"></path>
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="1em" height="1em" fill="currentColor"
                 class="w-4 cursor-pointer text-gray-6 dark:text-dark-gray-6 hover:text-gray-7 dark:hover:text-dark-gray-7">
                <path fill-rule="evenodd"
                      d="M18.97 12.871l-12.96 7.29a1 1 0 01-1.49-.87V4.71a1 1 0 011.49-.872l12.96 7.29a1 1 0 010 1.743z"
                      clip-rule="evenodd"></path>
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="1em" height="1em" fill="currentColor"
                 class="w-4 cursor-pointer text-gray-6 dark:text-dark-gray-6 hover:text-gray-7 dark:hover:text-dark-gray-7">
                <path fill-rule="evenodd"
                      d="M7.913 19.071l7.057-7.078-7.057-7.064a1 1 0 011.414-1.414l7.764 7.77a1 1 0 010 1.415l-7.764 7.785a1 1 0 01-1.414-1.414z"
                      clip-rule="evenodd"></path>
            </svg>
        </div>
        <div class="absolute right-0 mr-5 text-xs font-medium text-white">1 / 6</div>
    </div>
</div>
<br></p>
<p><strong>Algorithm</strong></p>
<ol>
    <li>
        <p>Initialize an empty list of lists <code>ans</code> to store the groups' indices.</p>
    </li>
    <li>
        <p>Create a hash map <code>szToGroup</code> where the keys are integers representing group sizes, and the values
            are the arrays of the corresponding indices in the group.</p>
    </li>
    <li>
        <p>Iterate over the array <code>groupSizes</code>, for each index <code>i</code>:</p>
        <ol>
            <li>Insert the index <code>i</code> into the list <code>szToGroup[groupSizes[i]]</code>.</li>
            <li>If the size of the list becomes equal to <code>groupSizes[i]</code>, store it in the answer
                <code>ans</code>. Also, clear the array for the key <code>groupSizes[i]</code> in the map <code>szToGroup</code>.
            </li>
        </ol>
    </li>
    <li>
        <p>Return <code>ans</code>.</p>
    </li>
</ol>
<p><strong>Implementation</strong></p>
<pre>
    Java
    <code>
        class Solution {
    public List<List<Integer>> groupThePeople(int[] groupSizes) {
        List<List<Integer>> ans = new ArrayList<>();

        // A map from group size to the list of indices that are there in the group.
        Map<Integer, List<Integer>> szToGroup = new HashMap<>();
        for (int i = 0; i < groupSizes.length; i++) {
            if (!szToGroup.containsKey(groupSizes[i])) {
                szToGroup.put(groupSizes[i], new ArrayList<>());
            }

            List<Integer> group = szToGroup.get(groupSizes[i]);
            group.add(i);

            // When the list size equals the group size, empty it and store it in the answer.
            if (group.size() == groupSizes[i]) {
                ans.add(group);
                szToGroup.remove(groupSizes[i]);
            }
        }

        return ans;
    }
}
    </code>
    C++
    <code>
        class Solution {
public:
    vector<vector<int>> groupThePeople(vector<int>& groupSizes) {
        vector<vector<int>> ans;

        // A map from group size to the list of indices that are there in the group.
        vector<int> szToGroup[groupSizes.size() + 1];
        for (int i = 0; i < groupSizes.size(); i++) {
            szToGroup[groupSizes[i]].push_back(i);

            // When the list size equals the group size, empty it and store it in the answer.
            if (szToGroup[groupSizes[i]].size() == groupSizes[i]) {
                ans.push_back(szToGroup[groupSizes[i]]);
                szToGroup[groupSizes[i]].clear();
            }
        }

        return ans;
    }
};
    </code>
</pre>
<p><strong>Complexity Analysis</strong></p>
<p>Here, <span class="math math-inline"><span class="katex"><span class="katex-mathml">NN</span><span class="katex-html"
                                                                                                      aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal"
                                                                                style="margin-right: 0.10903em;">N</span></span></span></span></span>
    is the size of the list <code>groupSizes</code>.</p>
<ul>
    <li>
        <p>Time complexity: <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">O(N)O(N)</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal"
                                                                                         style="margin-right: 0.02778em;">O</span><span
                class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.10903em;">N</span><span
                class="mclose">)</span></span></span></span></span></p>
        <p>We are iterating over each person's group size in the array <code>groupSizes</code> and storing it in the map
            <code>szToGroup</code>. Whenever the size of the list for a particular size becomes equal to the size
            itself, we empty the array and store it in our list. Both these operations would take <span
                    class="math math-inline"><span class="katex"><span class="katex-mathml">O(1)O(1)</span><span
                    class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                   style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
                    class="mord">1</span><span class="mclose">)</span></span></span></span></span> for each element in
            the list. Therefore, we're basically iterating over each element three times, once in the outer for loop, a
            second time when we add it to the final list <code>ans</code>, and a final time when we clear it from the
            list. This makes the total operation count as <span class="math math-inline"><span class="katex"><span
                    class="katex-mathml">3∗N3*N</span><span class="katex-html" aria-hidden="true"><span
                    class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">3</span><span
                    class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span
                    class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut"
                                                                                                          style="height: 0.6833em;"></span><span
                    class="mord mathnormal" style="margin-right: 0.10903em;">N</span></span></span></span></span>.
            Hence, the total time complexity equals <span class="math math-inline"><span class="katex"><span
                    class="katex-mathml">O(N)O(N)</span><span class="katex-html" aria-hidden="true"><span
                    class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
                    class="mord mathnormal" style="margin-right: 0.10903em;">N</span><span
                    class="mclose">)</span></span></span></span></span>.</p>
    </li>
    <li>
        <p>Space complexity: <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">O(N)O(N)</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal"
                                                                                         style="margin-right: 0.02778em;">O</span><span
                class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.10903em;">N</span><span
                class="mclose">)</span></span></span></span></span></p>
        <p>The space required by the map <code>szToGroup</code> could store all the indices in the
            <code>groupSizes</code> in the worst-case scenario. This happens when there is only one group of size <span
                    class="math math-inline"><span class="katex"><span class="katex-mathml">NN</span><span
                    class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                   style="height: 0.6833em;"></span><span
                    class="mord mathnormal" style="margin-right: 0.10903em;">N</span></span></span></span></span>. The
            space required by <code>ans</code> is required to store the answer, which is not generally considered part
            of the space complexity. Hence, the total space complexity equals <span class="math math-inline"><span
                    class="katex"><span class="katex-mathml">O(N)O(N)</span><span class="katex-html" aria-hidden="true"><span
                    class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
                    class="mord mathnormal" style="margin-right: 0.10903em;">N</span><span
                    class="mclose">)</span></span></span></span></span>.<br>
            <br></p>
    </li>
</ul>
<hr>
</body>
</html>