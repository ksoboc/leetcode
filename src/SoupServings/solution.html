<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Soup Servings - Solution</title>
</head>
<body>
<h2 id="solution">Soup Servings - Solution</h2>
<hr>
<h3 id="overview">Overview</h3>
<blockquote>
    <p><strong>Note.</strong> For this problem, we assume that you already know the fundamentals of dynamic programming
        and are figuring out how to apply it to a wide range of problems, such as this one. If you are not yet at this
        stage, we recommend checking out our relevant <a
                href="https://leetcode.com/explore/featured/card/dynamic-programming/" target="_blank">Explore Card
            content on dynamic programming</a> before coming back to this article.</p>
</blockquote>
<p>At first, one may notice that all soup amounts in all four operations are multiples of <span
        class="math math-inline"><span class="katex"><span class="katex-mathml">2525</span><span class="katex-html"
                                                                                                 aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.6444em;"></span><span
        class="mord">25</span></span></span></span></span> ml. This observation allows us to consider <span
        class="math math-inline"><span class="katex"><span class="katex-mathml">2525</span><span class="katex-html"
                                                                                                 aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.6444em;"></span><span
        class="mord">25</span></span></span></span></span> ml as one serving. In terms of servings, the operations will
    be as follows:</p>
<ol>
    <li>Serve four servings of soup A and 0 servings of soup B.</li>
    <li>Serve three servings of soup A and one serving of soup B.</li>
    <li>Serve two servings of soup A and two servings of soup B.</li>
    <li>Serve one serving of soup A and three servings of soup B.</li>
</ol>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml">nn</span><span class="katex-html"
                                                                                                aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>
    milliliters of soup is <span class="math math-inline"><span class="katex"><span class="katex-mathml">⌊n25⌋\left\lfloor \frac{n}{25} \right\rfloor</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1.2em; vertical-align: -0.35em;"></span><span
            class="minner"><span class="mopen delimcenter" style="top: 0em;"><span
            class="delimsizing size1">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span
            class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"
                                                                                     style="height: 0.6954em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">25</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span
            class="mord mathnormal mtight">n</span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top: 0em;"><span
            class="delimsizing size1">⌋</span></span></span></span></span></span></span> full servings plus <span
            class="math math-inline"><span class="katex"><span class="katex-mathml">n%25n \% 25</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.8056em; vertical-align: -0.0556em;"></span><span
            class="mord mathnormal">n</span><span class="mord">%25</span></span></span></span></span> milliliters. For
    example, <span class="math math-inline"><span class="katex"><span class="katex-mathml">n=474n = 474</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.4306em;"></span><span
            class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">474</span></span></span></span></span> ml is <span class="math math-inline"><span
            class="katex"><span class="katex-mathml">1818</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">18</span></span></span></span></span>
    full servings plus <span class="math math-inline"><span class="katex"><span class="katex-mathml">2424</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.6444em;"></span><span
            class="mord">24</span></span></span></span></span> ml. In this case, <span class="math math-inline"><span
            class="katex"><span class="katex-mathml">474474</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">474</span></span></span></span></span> ml will run out after <span
            class="math math-inline"><span class="katex"><span class="katex-mathml">1919</span><span class="katex-html"
                                                                                                     aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">19</span></span></span></span></span>
    servings: <span class="math math-inline"><span class="katex"><span class="katex-mathml">1818</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.6444em;"></span><span
            class="mord">18</span></span></span></span></span> full servings plus one more to serve the remaining <span
            class="math math-inline"><span class="katex"><span class="katex-mathml">2424</span><span class="katex-html"
                                                                                                     aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">24</span></span></span></span></span>
    ml.</p>
<p>We will consider <span class="math math-inline"><span class="katex"><span class="katex-mathml">nn</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 0.4306em;"></span><span
        class="mord mathnormal">n</span></span></span></span></span> ml as <span class="math math-inline"><span
        class="katex"><span class="katex-mathml">ceil(n25)\text{ceil}\left(\frac{n}{25}\right)</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 1.2em; vertical-align: -0.35em;"></span><span
        class="mord text"><span class="mord">ceil</span></span><span class="mspace"
                                                                     style="margin-right: 0.1667em;"></span><span
        class="minner"><span class="mopen delimcenter" style="top: 0em;"><span class="delimsizing size1">(</span></span><span
        class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span
        class="vlist-r"><span class="vlist" style="height: 0.6954em;"><span style="top: -2.655em;"><span class="pstrut"
                                                                                                         style="height: 3em;"></span><span
        class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span
        class="mord mtight">25</span></span></span></span><span style="top: -3.23em;"><span class="pstrut"
                                                                                            style="height: 3em;"></span><span
        class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.394em;"><span
        class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span
        class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span
        class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.345em;"><span></span></span></span></span></span><span
        class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top: 0em;"><span
        class="delimsizing size1">)</span></span></span></span></span></span></span> servings, even though the last one
    will not be full.</p>
<hr>
<h3 id="approach-1-bottom-up-dynamic-programming">Approach 1: Bottom-Up Dynamic Programming</h3>
<h4 id="intuition">Intuition</h4>
<p>We will solve the problem using dynamic programming.</p>
<p>Let <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[i][j]\text{dp}[i][j]</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
        class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span
        class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span
        class="mclose">]</span></span></span></span></span> be the answer to the problem when we start with <span
        class="math math-inline"><span class="katex"><span class="katex-mathml">ii</span><span class="katex-html"
                                                                                               aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span></span>
    servings of soup A and <span class="math math-inline"><span class="katex"><span class="katex-mathml">jj</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.854em; vertical-align: -0.1944em;"></span><span
            class="mord mathnormal" style="margin-right: 0.05724em;">j</span></span></span></span></span> servings of
    soup B.</p>
<p>Consider the base cases.</p>
<ul>
    <li>The state <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">dp[i][j]\text{dp}[i][j]</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span
            class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span></span></span></span></span>
        with <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">i=0,j&gt;0i = 0, j &gt; 0</span><span class="katex-html" aria-hidden="true"><span
                class="base"><span class="strut" style="height: 0.6595em;"></span><span class="mord mathnormal">i</span><span
                class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace"
                                                                                                       style="margin-right: 0.2778em;"></span></span><span
                class="base"><span class="strut" style="height: 0.854em; vertical-align: -0.1944em;"></span><span
                class="mord">0</span><span class="mpunct">,</span><span class="mspace"
                                                                        style="margin-right: 0.1667em;"></span><span
                class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                                       style="margin-right: 0.2778em;"></span><span
                class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
                class="base"><span class="strut" style="height: 0.6444em;"></span><span
                class="mord">0</span></span></span></span></span> means that we ran out of soup A, but there remains
        soup B. In this case, the probability that soup A is empty first is <span class="math math-inline"><span
                class="katex"><span class="katex-mathml">11</span><span class="katex-html" aria-hidden="true"><span
                class="base"><span class="strut" style="height: 0.6444em;"></span><span
                class="mord">1</span></span></span></span></span>, and this is the value of <span
                class="math math-inline"><span class="katex"><span
                class="katex-mathml">dp[0][j]\text{dp}[0][j]</span><span class="katex-html" aria-hidden="true"><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
                class="mord">0</span><span class="mclose">]</span><span class="mopen">[</span><span
                class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span
                class="mclose">]</span></span></span></span></span>.
    </li>
    <li>The state with <span class="math math-inline"><span class="katex"><span class="katex-mathml">i&gt;0,j=0i &gt; 0, j = 0</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.6986em; vertical-align: -0.0391em;"></span><span
            class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.854em; vertical-align: -0.1944em;"></span><span
            class="mord">0</span><span class="mpunct">,</span><span class="mspace"
                                                                    style="margin-right: 0.1667em;"></span><span
            class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                                   style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>
        is symmetrical – the soup B is empty first, and thus <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">dp[i][0]=0\text{dp}[i][0] = 0</span><span class="katex-html"
                                                                               aria-hidden="true"><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
                class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span
                class="mord">0</span><span class="mclose">]</span><span class="mspace"
                                                                        style="margin-right: 0.2778em;"></span><span
                class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
                class="base"><span class="strut" style="height: 0.6444em;"></span><span
                class="mord">0</span></span></span></span></span>.
    </li>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">i=0,j=0i = 0, j = 0</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.6595em;"></span><span
            class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.854em; vertical-align: -0.1944em;"></span><span
            class="mord">0</span><span class="mpunct">,</span><span class="mspace"
                                                                    style="margin-right: 0.1667em;"></span><span
            class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                                   style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>
        means that both types of soup ran out. Since the answer includes half the probability that A and B become empty
        at the same time, <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[0][0]=12\text{dp}[0][0] = \frac{1}{2}</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
                class="mord">0</span><span class="mclose">]</span><span class="mopen">[</span><span
                class="mord">0</span><span class="mclose">]</span><span class="mspace"
                                                                        style="margin-right: 0.2778em;"></span><span
                class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
                class="base"><span class="strut" style="height: 1.1901em; vertical-align: -0.345em;"></span><span
                class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
                class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span
                style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
                class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span
                class="mord mtight">2</span></span></span></span><span style="top: -3.23em;"><span class="pstrut"
                                                                                                   style="height: 3em;"></span><span
                class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.394em;"><span
                class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span
                class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span
                class="vlist-r"><span class="vlist"
                                      style="height: 0.345em;"><span></span></span></span></span></span><span
                class="mclose nulldelimiter"></span></span></span></span></span></span>.
    </li>
</ul>
<p>Now we need to write down the recurrence relation of this DP.</p>
<p>At each state <span class="math math-inline"><span class="katex"><span
        class="katex-mathml">dp[i][j]\text{dp}[i][j]</span><span class="katex-html" aria-hidden="true"><span
        class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
        class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span
        class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span
        class="mclose">]</span></span></span></span></span> with <span class="math math-inline"><span
        class="katex"><span class="katex-mathml">i&gt;0,j&gt;0i &gt; 0, j &gt; 0</span><span class="katex-html"
                                                                                             aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.6986em; vertical-align: -0.0391em;"></span><span
        class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&gt;</span><span
        class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut"
                                                                                              style="height: 0.854em; vertical-align: -0.1944em;"></span><span
        class="mord">0</span><span class="mpunct">,</span><span class="mspace"
                                                                style="margin-right: 0.1667em;"></span><span
        class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                               style="margin-right: 0.2778em;"></span><span
        class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
        class="base"><span class="strut" style="height: 0.6444em;"></span><span
        class="mord">0</span></span></span></span></span>, we have four options each with an equal probability <span
        class="math math-inline"><span class="katex"><span class="katex-mathml">14\frac{1}{4}</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 1.1901em; vertical-align: -0.345em;"></span><span
        class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span
        class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span style="top: -2.655em;"><span class="pstrut"
                                                                                                         style="height: 3em;"></span><span
        class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span
        class="mord mtight">4</span></span></span></span><span style="top: -3.23em;"><span class="pstrut"
                                                                                           style="height: 3em;"></span><span
        class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.394em;"><span
        class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span
        class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span
        class="vlist-r"><span class="vlist" style="height: 0.345em;"><span></span></span></span></span></span><span
        class="mclose nulldelimiter"></span></span></span></span></span></span>.</p>
<ul>
    <li>If we choose the first operation, we will decrease the amount of soup A by <span class="math math-inline"><span
            class="katex"><span class="katex-mathml">44</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">4</span></span></span></span></span>
        servings. After that, we will be in the state <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">dp[max⁡(0,i−4)][j]\text{dp}[\max (0, i - 4)][j]</span><span class="katex-html"
                                                                                                 aria-hidden="true"><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
                class="mop">max</span><span class="mopen">(</span><span class="mord">0</span><span
                class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span
                class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord">4</span><span class="mclose">)]</span><span class="mopen">[</span><span
                class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span
                class="mclose">]</span></span></span></span></span>.
    </li>
    <li>The second operation decreases <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">ii</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.6595em;"></span><span
            class="mord mathnormal">i</span></span></span></span></span> by <span class="math math-inline"><span
            class="katex"><span class="katex-mathml">33</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">3</span></span></span></span></span>
        and <span class="math math-inline"><span class="katex"><span class="katex-mathml">jj</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.854em; vertical-align: -0.1944em;"></span><span
                class="mord mathnormal" style="margin-right: 0.05724em;">j</span></span></span></span></span> by <span
                class="math math-inline"><span class="katex"><span class="katex-mathml">11</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.6444em;"></span><span
                class="mord">1</span></span></span></span></span>, thus the new state will be <span
                class="math math-inline"><span class="katex"><span class="katex-mathml">dp[max⁡(0,i−3)][j−1]\text{dp}[\max(0, i - 3)][j - 1]</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
                class="mop">max</span><span class="mopen">(</span><span class="mord">0</span><span
                class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span
                class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord">3</span><span class="mclose">)]</span><span class="mopen">[</span><span
                class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                                       style="margin-right: 0.2222em;"></span><span
                class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord">1</span><span class="mclose">]</span></span></span></span></span>.
    </li>
    <li>Similarly, the third operation brings us to the state <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">dp[max⁡(0,i−2)][max⁡(0,j−2)]\text{dp}[\max(0, i - 2)][\max(0, j - 2)]</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mop">max</span><span class="mopen">(</span><span class="mord">0</span><span
            class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span
            class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
            class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
            class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord">2</span><span class="mclose">)]</span><span class="mopen">[</span><span
            class="mop">max</span><span class="mopen">(</span><span class="mord">0</span><span
            class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span
            class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                                   style="margin-right: 0.2222em;"></span><span
            class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
            class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord">2</span><span class="mclose">)]</span></span></span></span></span>.
    </li>
    <li>Finally, the state after the fourth operation is <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">dp[i−1][max⁡(0,j−3)]\text{dp}[i - 1][\max(0, j - 3)]</span><span class="katex-html"
                                                                                                  aria-hidden="true"><span
            class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
            class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
            class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span
            class="mop">max</span><span class="mopen">(</span><span class="mord">0</span><span
            class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span
            class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                                   style="margin-right: 0.2222em;"></span><span
            class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
            class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord">3</span><span class="mclose">)]</span></span></span></span></span>.
    </li>
    <li>The <span class="math math-inline"><span class="katex"><span class="katex-mathml">max⁡\max</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.4306em;"></span><span
            class="mop">max</span></span></span></span></span> in the transitions prevents negative indices. It handles
        the case when we try to serve more servings than there are.
    </li>
</ul>
<p>Combining the above four transitions, we obtain the recurrence relation: <span class="math math-inline"><span
        class="katex"><span class="katex-mathml">dp[i][j]=14(dp[max⁡(0,i−4)][j]+dp[max⁡(0,i−3)][j−1]+dp[max⁡(0,i−2)][max⁡(0,j−2)]+dp[i−1][max⁡(0,j−3)])\text{dp}[i][j] = \frac{1}{4} (\text{dp}[\max (0, i - 4)][j] + \text{dp}[\max(0, i - 3)][j - 1] + \text{dp}[\max(0, i - 2)][\max(0, j - 2)] + \text{dp}[i - 1][\max(0, j - 3)])</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
        class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span
        class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span><span
        class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace"
                                                                                               style="margin-right: 0.2778em;"></span></span><span
        class="base"><span class="strut" style="height: 1.1901em; vertical-align: -0.345em;"></span><span
        class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span
        class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span style="top: -2.655em;"><span class="pstrut"
                                                                                                         style="height: 3em;"></span><span
        class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span
        class="mord mtight">4</span></span></span></span><span style="top: -3.23em;"><span class="pstrut"
                                                                                           style="height: 3em;"></span><span
        class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.394em;"><span
        class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span
        class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span
        class="vlist-r"><span class="vlist" style="height: 0.345em;"><span></span></span></span></span></span><span
        class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord text"><span
        class="mord">dp</span></span><span class="mopen">[</span><span class="mop">max</span><span
        class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace"
                                                                                            style="margin-right: 0.1667em;"></span><span
        class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
        class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">4</span><span
        class="mclose">)]</span><span class="mopen">[</span><span class="mord mathnormal"
                                                                  style="margin-right: 0.05724em;">j</span><span
        class="mclose">]</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
        class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord text"><span
        class="mord">dp</span></span><span class="mopen">[</span><span class="mop">max</span><span
        class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace"
                                                                                            style="margin-right: 0.1667em;"></span><span
        class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
        class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">3</span><span
        class="mclose">)]</span><span class="mopen">[</span><span class="mord mathnormal"
                                                                  style="margin-right: 0.05724em;">j</span><span
        class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace"
                                                                                               style="margin-right: 0.2222em;"></span></span><span
        class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord">1</span><span class="mclose">]</span><span class="mspace"
                                                                style="margin-right: 0.2222em;"></span><span
        class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord text"><span
        class="mord">dp</span></span><span class="mopen">[</span><span class="mop">max</span><span
        class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace"
                                                                                            style="margin-right: 0.1667em;"></span><span
        class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
        class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">2</span><span
        class="mclose">)]</span><span class="mopen">[</span><span class="mop">max</span><span
        class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace"
                                                                                            style="margin-right: 0.1667em;"></span><span
        class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                               style="margin-right: 0.2222em;"></span><span
        class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">2</span><span
        class="mclose">)]</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
        class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord text"><span
        class="mord">dp</span></span><span class="mopen">[</span><span class="mord mathnormal">i</span><span
        class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace"
                                                                                               style="margin-right: 0.2222em;"></span></span><span
        class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mop">max</span><span
        class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace"
                                                                                            style="margin-right: 0.1667em;"></span><span
        class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                               style="margin-right: 0.2222em;"></span><span
        class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">3</span><span
        class="mclose">)])</span></span></span></span></span>.</p>
<p>Let <span class="math math-inline"><span class="katex"><span class="katex-mathml">m=ceil(n25)m = \text{ceil}\left(\frac{n}{25}\right)</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 0.4306em;"></span><span
        class="mord mathnormal">m</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
        class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span
        class="strut" style="height: 1.2em; vertical-align: -0.35em;"></span><span class="mord text"><span class="mord">ceil</span></span><span
        class="mspace" style="margin-right: 0.1667em;"></span><span class="minner"><span class="mopen delimcenter"
                                                                                         style="top: 0em;"><span
        class="delimsizing size1">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span
        class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"
                                                                                 style="height: 0.6954em;"><span
        style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
        class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span
        class="mord mtight">25</span></span></span></span><span style="top: -3.23em;"><span class="pstrut"
                                                                                            style="height: 3em;"></span><span
        class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.394em;"><span
        class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span
        class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span
        class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.345em;"><span></span></span></span></span></span><span
        class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top: 0em;"><span
        class="delimsizing size1">)</span></span></span></span></span></span></span> denote the initial amount of
    servings.</p>
<p>The answer to the problem is <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[m][m]\text{dp}[m][m]</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
        class="mord mathnormal">m</span><span class="mclose">]</span><span class="mopen">[</span><span
        class="mord mathnormal">m</span><span class="mclose">]</span></span></span></span></span> – the initial amount
    of both types of soup is <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">mm</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.4306em;"></span><span
            class="mord mathnormal">m</span></span></span></span></span> servings.</p>
<p>The number of states in this DP is <span class="math math-inline"><span class="katex"><span class="katex-mathml">O(m2)O(m^2)</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 1.0641em; vertical-align: -0.25em;"></span><span
        class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span
        class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span
        class="vlist" style="height: 0.8141em;"><span style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut"
                                                                                                         style="height: 2.7em;"></span><span
        class="sizing reset-size6 size3 mtight"><span
        class="mord mtight">2</span></span></span></span></span></span></span></span><span
        class="mclose">)</span></span></span></span></span> – <span class="math math-inline"><span class="katex"><span
        class="katex-mathml">O(m)O(m)</span><span class="katex-html" aria-hidden="true"><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal"
                                                                                 style="margin-right: 0.02778em;">O</span><span
        class="mopen">(</span><span class="mord mathnormal">m</span><span
        class="mclose">)</span></span></span></span></span> options for <span class="math math-inline"><span
        class="katex"><span class="katex-mathml">ii</span><span class="katex-html" aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span></span>,
    and <span class="math math-inline"><span class="katex"><span class="katex-mathml">O(m)O(m)</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
            class="mord mathnormal">m</span><span class="mclose">)</span></span></span></span></span> options for <span
            class="math math-inline"><span class="katex"><span class="katex-mathml">jj</span><span class="katex-html"
                                                                                                   aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.854em; vertical-align: -0.1944em;"></span><span
            class="mord mathnormal" style="margin-right: 0.05724em;">j</span></span></span></span></span>. Since, the
    constraints are <span class="math math-inline"><span class="katex"><span class="katex-mathml">n≤109n \le 10^9</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.7719em; vertical-align: -0.136em;"></span><span
            class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord">1</span><span
            class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span
            class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
            style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span
            class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></span>,
    thus <span class="math math-inline"><span class="katex"><span class="katex-mathml">m≤10925=4⋅107m \le \frac{10^9}{25} = 4 \cdot 10^7</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.7719em; vertical-align: -0.136em;"></span><span
            class="mord mathnormal">m</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 1.3629em; vertical-align: -0.345em;"></span><span
            class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.0179em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">25</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span
            class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span
            class="vlist-r"><span class="vlist" style="height: 0.8913em;"><span
            style="top: -2.931em; margin-right: 0.0714em;"><span class="pstrut" style="height: 2.5em;"></span><span
            class="sizing reset-size3 size1 mtight"><span
            class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">4</span><span
            class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">⋅</span><span class="mspace"
                                                                                                   style="margin-right: 0.2222em;"></span></span><span
            class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord">1</span><span
            class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span
            class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
            style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span
            class="mord mtight">7</span></span></span></span></span></span></span></span></span></span></span></span>.
    For such a large <span class="math math-inline"><span class="katex"><span class="katex-mathml">mm</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.4306em;"></span><span
            class="mord mathnormal">m</span></span></span></span></span>, the DP solution is inappropriate.</p>
<p>But for small <span class="math math-inline"><span class="katex"><span class="katex-mathml">mm</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 0.4306em;"></span><span
        class="mord mathnormal">m</span></span></span></span></span>, the solution works fast enough, and we can still
    implement this DP to investigate how <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[m][m]\text{dp}[m][m]</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord mathnormal">m</span><span class="mclose">]</span><span class="mopen">[</span><span
            class="mord mathnormal">m</span><span class="mclose">]</span></span></span></span></span> depends on <span
            class="math math-inline"><span class="katex"><span class="katex-mathml">mm</span><span class="katex-html"
                                                                                                   aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.4306em;"></span><span
            class="mord mathnormal">m</span></span></span></span></span>. The provided values are with <span
            class="math math-inline"><span class="katex"><span class="katex-mathml">55</span><span class="katex-html"
                                                                                                   aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">5</span></span></span></span></span>
    digits after the decimal point.</p>
<ul>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[1][1]=0.62500\text{dp}[1][1] = 0.62500</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span class="mord">1</span><span
            class="mclose">]</span><span class="mopen">[</span><span class="mord">1</span><span
            class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">0.62500</span></span></span></span></span>.
    </li>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[2][2]=0.62500\text{dp}[2][2] = 0.62500</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span class="mord">2</span><span
            class="mclose">]</span><span class="mopen">[</span><span class="mord">2</span><span
            class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">0.62500</span></span></span></span></span>.
    </li>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[3][3]=0.65625\text{dp}[3][3] = 0.65625</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span class="mord">3</span><span
            class="mclose">]</span><span class="mopen">[</span><span class="mord">3</span><span
            class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">0.65625</span></span></span></span></span>.
    </li>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[4][4]=0.71875\text{dp}[4][4] = 0.71875</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span class="mord">4</span><span
            class="mclose">]</span><span class="mopen">[</span><span class="mord">4</span><span
            class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">0.71875</span></span></span></span></span>.
    </li>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[5][5]=0.74219\text{dp}[5][5] = 0.74219</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span class="mord">5</span><span
            class="mclose">]</span><span class="mopen">[</span><span class="mord">5</span><span
            class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">0.74219</span></span></span></span></span>.
    </li>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[6][6]=0.75781\text{dp}[6][6] = 0.75781</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span class="mord">6</span><span
            class="mclose">]</span><span class="mopen">[</span><span class="mord">6</span><span
            class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">0.75781</span></span></span></span></span>.
    </li>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[7][7]=0.78516\text{dp}[7][7] = 0.78516</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span class="mord">7</span><span
            class="mclose">]</span><span class="mopen">[</span><span class="mord">7</span><span
            class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">0.78516</span></span></span></span></span>.
    </li>
</ul>
<p>The first observation is that <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[m][m]\text{dp}[m][m]</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
        class="mord mathnormal">m</span><span class="mclose">]</span><span class="mopen">[</span><span
        class="mord mathnormal">m</span><span class="mclose">]</span></span></span></span></span> increases starting
    from <span class="math math-inline"><span class="katex"><span class="katex-mathml">m=2m = 2</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.4306em;"></span><span
            class="mord mathnormal">m</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">2</span></span></span></span></span>.
    Let's proceed to investigate for larger values of <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">mm</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.4306em;"></span><span
            class="mord mathnormal">m</span></span></span></span></span>.</p>
<ul>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[10][10]=0.82764\text{dp}[10][10] = 0.82764</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord">10</span><span class="mclose">]</span><span class="mopen">[</span><span
            class="mord">10</span><span class="mclose">]</span><span class="mspace"
                                                                     style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">0.82764</span></span></span></span></span>.
    </li>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[20][20]=0.91634\text{dp}[20][20] = 0.91634</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord">20</span><span class="mclose">]</span><span class="mopen">[</span><span
            class="mord">20</span><span class="mclose">]</span><span class="mspace"
                                                                     style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">0.91634</span></span></span></span></span>.
    </li>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[30][30]=0.95646\text{dp}[30][30] = 0.95646</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord">30</span><span class="mclose">]</span><span class="mopen">[</span><span
            class="mord">30</span><span class="mclose">]</span><span class="mspace"
                                                                     style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">0.95646</span></span></span></span></span>.
    </li>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[40][40]=0.97657\text{dp}[40][40] = 0.97657</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord">40</span><span class="mclose">]</span><span class="mopen">[</span><span
            class="mord">40</span><span class="mclose">]</span><span class="mspace"
                                                                     style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">0.97657</span></span></span></span></span>.
    </li>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[50][50]=0.98713\text{dp}[50][50] = 0.98713</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord">50</span><span class="mclose">]</span><span class="mopen">[</span><span
            class="mord">50</span><span class="mclose">]</span><span class="mspace"
                                                                     style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">0.98713</span></span></span></span></span>.
    </li>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[100][100]=0.99925\text{dp}[100][100] = 0.99925</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord">100</span><span class="mclose">]</span><span class="mopen">[</span><span
            class="mord">100</span><span class="mclose">]</span><span class="mspace"
                                                                      style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">0.99925</span></span></span></span></span>.
    </li>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[150][150]=0.99995\text{dp}[150][150] = 0.99995</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord">150</span><span class="mclose">]</span><span class="mopen">[</span><span
            class="mord">150</span><span class="mclose">]</span><span class="mspace"
                                                                      style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">0.99995</span></span></span></span></span>.
    </li>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[200][200]=1.00000\text{dp}[200][200] = 1.00000</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord">200</span><span class="mclose">]</span><span class="mopen">[</span><span
            class="mord">200</span><span class="mclose">]</span><span class="mspace"
                                                                      style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">1.00000</span></span></span></span></span>.
    </li>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[250][250]=1.00000\text{dp}[250][250] = 1.00000</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord">250</span><span class="mclose">]</span><span class="mopen">[</span><span
            class="mord">250</span><span class="mclose">]</span><span class="mspace"
                                                                      style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">1.00000</span></span></span></span></span>.
    </li>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[300][300]=1.00000\text{dp}[300][300] = 1.00000</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord">300</span><span class="mclose">]</span><span class="mopen">[</span><span
            class="mord">300</span><span class="mclose">]</span><span class="mspace"
                                                                      style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">1.00000</span></span></span></span></span>.
    </li>
</ul>
<p>Wow! Starting from <span class="math math-inline"><span class="katex"><span
        class="katex-mathml">m≈200m \approx 200</span><span class="katex-html" aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.4831em;"></span><span class="mord mathnormal">m</span><span
        class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≈</span><span class="mspace"
                                                                                               style="margin-right: 0.2778em;"></span></span><span
        class="base"><span class="strut" style="height: 0.6444em;"></span><span
        class="mord">200</span></span></span></span></span>, <span class="math math-inline"><span class="katex"><span
        class="katex-mathml">dp[m][m]\text{dp}[m][m]</span><span class="katex-html" aria-hidden="true"><span
        class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
        class="mord mathnormal">m</span><span class="mclose">]</span><span class="mopen">[</span><span
        class="mord mathnormal">m</span><span class="mclose">]</span></span></span></span></span> is very close to <span
        class="math math-inline"><span class="katex"><span class="katex-mathml">11</span><span class="katex-html"
                                                                                               aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.6444em;"></span><span
        class="mord">1</span></span></span></span></span>, closer than <span class="math math-inline"><span
        class="katex"><span class="katex-mathml">10−510^{-5}</span><span class="katex-html" aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord">1</span><span class="mord"><span
        class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist"
                                                                                                     style="height: 0.8141em;"><span
        style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
        class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span
        class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></span></span>.
    Since the allowed error of our answer is <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">10−510^{-5}</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.8141em;"></span><span class="mord">1</span><span class="mord"><span
            class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist"
                                                                                                         style="height: 0.8141em;"><span
            style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span
            class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></span></span>
    (as stated in the problem description), starting from <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">m≈200m \approx 200</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.4831em;"></span><span
            class="mord mathnormal">m</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">≈</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">200</span></span></span></span></span>, the testing system will accept <span
            class="math math-inline"><span class="katex"><span class="katex-mathml">11</span><span class="katex-html"
                                                                                                   aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>
    as the correct answer.</p>
<p>The strict mathematical proof of the observed fact is beyond this article's scope, because the detailed analysis
    requires a strong knowledge of probability theory, which we do not expect from you.</p>
<p>However, we will give an intuition behind why <span class="math math-inline"><span class="katex"><span
        class="katex-mathml">dp[m][m]\text{dp}[m][m]</span><span class="katex-html" aria-hidden="true"><span
        class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
        class="mord mathnormal">m</span><span class="mclose">]</span><span class="mopen">[</span><span
        class="mord mathnormal">m</span><span class="mclose">]</span></span></span></span></span> tends to <span
        class="math math-inline"><span class="katex"><span class="katex-mathml">11</span><span class="katex-html"
                                                                                               aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.6444em;"></span><span
        class="mord">1</span></span></span></span></span> when <span class="math math-inline"><span class="katex"><span
        class="katex-mathml">mm</span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                                           style="height: 0.4306em;"></span><span
        class="mord mathnormal">m</span></span></span></span></span> tends to infinity.</p>
<p>Before analyzing our problem, consider a simple example with a fair coin. The coin can show either heads or tails
    with equal probability <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">12\frac{1}{2}</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 1.1901em; vertical-align: -0.345em;"></span><span
            class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span></span></span></span></span>.</p>
<ul>
    <li>After <span class="math math-inline"><span class="katex"><span class="katex-mathml">1010</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.6444em;"></span><span
            class="mord">10</span></span></span></span></span> tosses, the most probable outcome is to get <span
            class="math math-inline"><span class="katex"><span class="katex-mathml">55</span><span class="katex-html"
                                                                                                   aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">5</span></span></span></span></span>
        heads. This can be considered the average result, with an equal number of heads and tails. However, the actual
        scenario can deviate from this average. The probability of getting exactly <span class="math math-inline"><span
                class="katex"><span class="katex-mathml">55</span><span class="katex-html" aria-hidden="true"><span
                class="base"><span class="strut" style="height: 0.6444em;"></span><span
                class="mord">5</span></span></span></span></span> heads is <span class="math math-inline"><span
                class="katex"><span class="katex-mathml">0.250.25</span><span class="katex-html"
                                                                              aria-hidden="true"><span
                class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.25</span></span></span></span></span>,
        while the probabilities of getting <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">44</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                class="strut" style="height: 0.6444em;"></span><span class="mord">4</span></span></span></span></span>
        and <span class="math math-inline"><span class="katex"><span class="katex-mathml">66</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.6444em;"></span><span
                class="mord">6</span></span></span></span></span> heads are <span class="math math-inline"><span
                class="katex"><span class="katex-mathml">0.210.21</span><span class="katex-html"
                                                                              aria-hidden="true"><span
                class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.21</span></span></span></span></span>
        each. The probability of the number of heads falling outside the range of <span class="math math-inline"><span
                class="katex"><span class="katex-mathml">44</span><span class="katex-html" aria-hidden="true"><span
                class="base"><span class="strut" style="height: 0.6444em;"></span><span
                class="mord">4</span></span></span></span></span> to <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">66</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                class="strut" style="height: 0.6444em;"></span><span class="mord">6</span></span></span></span></span>
        is <span class="math math-inline"><span class="katex"><span class="katex-mathml">1−0.21−0.25−0.21=0.341 - 0.21 - 0.25 - 0.21 = 0.34</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.7278em; vertical-align: -0.0833em;"></span><span
                class="mord">1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span
                class="mord">0.21</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span
                class="mord">0.25</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.21</span><span
                class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace"
                                                                                                       style="margin-right: 0.2778em;"></span></span><span
                class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.34</span></span></span></span></span>.
        As we can see, this probability is not negligible. The likelihood of obtaining fewer than <span
                class="math math-inline"><span class="katex"><span class="katex-mathml">44</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.6444em;"></span><span
                class="mord">4</span></span></span></span></span> heads or more than 6 heads is significant.
    </li>
    <li>And what if we toss the coin <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">3030</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.6444em;"></span><span class="mord">30</span></span></span></span></span>
        times instead of <span class="math math-inline"><span class="katex"><span class="katex-mathml">1010</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.6444em;"></span><span
                class="mord">10</span></span></span></span></span>? The probability of getting fewer than <span
                class="math math-inline"><span class="katex"><span class="katex-mathml">1212</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.6444em;"></span><span
                class="mord">12</span></span></span></span></span> heads in <span class="math math-inline"><span
                class="katex"><span class="katex-mathml">3030</span><span class="katex-html" aria-hidden="true"><span
                class="base"><span class="strut" style="height: 0.6444em;"></span><span
                class="mord">30</span></span></span></span></span> tosses is approximately <span
                class="math math-inline"><span class="katex"><span class="katex-mathml">0.100.10</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.6444em;"></span><span
                class="mord">0.10</span></span></span></span></span>, and the probability of getting more than <span
                class="math math-inline"><span class="katex"><span class="katex-mathml">1818</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.6444em;"></span><span
                class="mord">18</span></span></span></span></span> heads is also approximately <span
                class="math math-inline"><span class="katex"><span class="katex-mathml">0.100.10</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.6444em;"></span><span
                class="mord">0.10</span></span></span></span></span>. Therefore, the probability of the number of heads
        not falling into the range <span class="math math-inline"><span class="katex"><span class="katex-mathml">[12,18][12, 18]</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mopen">[</span><span class="mord">12</span><span class="mpunct">,</span><span class="mspace"
                                                                                                     style="margin-right: 0.1667em;"></span><span
                class="mord">18</span><span class="mclose">]</span></span></span></span></span> is <span
                class="math math-inline"><span class="katex"><span
                class="katex-mathml">0.10+0.10=0.200.10 + 0.10 = 0.20</span><span class="katex-html" aria-hidden="true"><span
                class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span
                class="mord">0.10</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.10</span><span
                class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace"
                                                                                                       style="margin-right: 0.2778em;"></span></span><span
                class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.20</span></span></span></span></span>.
        As we can see, with <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">3030</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                class="strut" style="height: 0.6444em;"></span><span class="mord">30</span></span></span></span></span>
        tosses, the probability of obtaining a number of heads outside the range <span class="math math-inline"><span
                class="katex"><span class="katex-mathml">[12,18][12, 18]</span><span class="katex-html"
                                                                                     aria-hidden="true"><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mopen">[</span><span class="mord">12</span><span class="mpunct">,</span><span class="mspace"
                                                                                                     style="margin-right: 0.1667em;"></span><span
                class="mord">18</span><span class="mclose">]</span></span></span></span></span> is smaller compared to
        <span class="math math-inline"><span class="katex"><span class="katex-mathml">1010</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.6444em;"></span><span
                class="mord">10</span></span></span></span></span> tosses, but it is still notable.
    </li>
    <li>If we toss the fair coin <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">100100</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.6444em;"></span><span class="mord">100</span></span></span></span></span>
        times, then the probability of not falling into <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">[40,60][40, 60]</span><span class="katex-html" aria-hidden="true"><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mopen">[</span><span class="mord">40</span><span class="mpunct">,</span><span class="mspace"
                                                                                                     style="margin-right: 0.1667em;"></span><span
                class="mord">60</span><span class="mclose">]</span></span></span></span></span> is <span
                class="math math-inline"><span class="katex"><span class="katex-mathml">≈0.035\approx 0.035</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.4831em;"></span><span
                class="mrel">≈</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
                class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.035</span></span></span></span></span>,
        which is smaller than the probability we got for <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">1010</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                class="strut" style="height: 0.6444em;"></span><span class="mord">10</span></span></span></span></span>
        tosses and even smaller than the probability we got for <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">3030</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                class="strut" style="height: 0.6444em;"></span><span class="mord">30</span></span></span></span></span>
        tosses.
    </li>
    <li>For <span class="math math-inline"><span class="katex"><span class="katex-mathml">300300</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.6444em;"></span><span
            class="mord">300</span></span></span></span></span> tosses and the range <span
            class="math math-inline"><span class="katex"><span class="katex-mathml">[120,180][120, 180]</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mopen">[</span><span class="mord">120</span><span class="mpunct">,</span><span class="mspace"
                                                                                                  style="margin-right: 0.1667em;"></span><span
            class="mord">180</span><span class="mclose">]</span></span></span></span></span>, this probability is <span
            class="math math-inline"><span class="katex"><span
            class="katex-mathml">4.1⋅10−44.1 \cdot 10^{-4}</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">4.1</span><span
            class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">⋅</span><span class="mspace"
                                                                                                   style="margin-right: 0.2222em;"></span></span><span
            class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord">1</span><span
            class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span
            class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
            style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span
            class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span></span></span>,
        which is much smaller than the probability we got for <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">1010</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                class="strut" style="height: 0.6444em;"></span><span class="mord">10</span></span></span></span></span>,
        <span class="math math-inline"><span class="katex"><span class="katex-mathml">3030</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.6444em;"></span><span
                class="mord">30</span></span></span></span></span>, and even <span class="math math-inline"><span
                class="katex"><span class="katex-mathml">100100</span><span class="katex-html" aria-hidden="true"><span
                class="base"><span class="strut" style="height: 0.6444em;"></span><span
                class="mord">100</span></span></span></span></span> tosses. This confirms that as the number of tosses
        increases, the distribution of the number of heads becomes more and more concentrated around the average value.
    </li>
</ul>
<p>While the exact probabilities are not that important in this article, the key idea is that the more times we toss a
    fair coin, the more likely the number of heads will be close to the <strong>expected value</strong>.</p>
<p>With this example, we are demonstrating <a href="https://en.wikipedia.org/wiki/Law_of_large_numbers" target="_blank">the
    law of large numbers</a>. It states that as more trials are performed, the results tend toward the expected value.
</p>
<p>Now, return to our soup servings problem.</p>
<p>The four operations decrease the soup A amount by <span class="math math-inline"><span class="katex"><span
        class="katex-mathml">44</span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                                           style="height: 0.6444em;"></span><span
        class="mord">4</span></span></span></span></span>, <span class="math math-inline"><span class="katex"><span
        class="katex-mathml">33</span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                                           style="height: 0.6444em;"></span><span
        class="mord">3</span></span></span></span></span>, <span class="math math-inline"><span class="katex"><span
        class="katex-mathml">22</span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                                           style="height: 0.6444em;"></span><span
        class="mord">2</span></span></span></span></span>, and <span class="math math-inline"><span class="katex"><span
        class="katex-mathml">11</span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                                           style="height: 0.6444em;"></span><span
        class="mord">1</span></span></span></span></span> servings, respectively. Since they are equiprobable, one
    operation <strong>on average</strong> decreases the amount by <span class="math math-inline"><span
            class="katex"><span class="katex-mathml">14(4+3+2+1)=52\frac{1}{4} (4 + 3 + 2 + 1) = \frac{5}{2}</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1.1901em; vertical-align: -0.345em;"></span><span
            class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord">4</span><span
            class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace"
                                                                                                   style="margin-right: 0.2222em;"></span></span><span
            class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span
            class="mord">3</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span
            class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut"
                                                                                                  style="height: 0.7278em; vertical-align: -0.0833em;"></span><span
            class="mord">2</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span
            class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut"
                                                                                                  style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord">1</span><span class="mclose">)</span><span class="mspace"
                                                                    style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 1.1901em; vertical-align: -0.345em;"></span><span
            class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span></span></span></span></span>. For soup B, notice that there is no
    operation that decreases it by <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">44</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.6444em;"></span><span class="mord">4</span></span></span></span></span>
    servings (the problem statement even explicitly mentions this, which can be taken as a hint). The
    <strong>average</strong> served amount is <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">14(0+1+2+3)=32\frac{1}{4} (0 + 1 + 2 + 3) = \frac{3}{2}</span><span class="katex-html"
                                                                                                     aria-hidden="true"><span
            class="base"><span class="strut" style="height: 1.1901em; vertical-align: -0.345em;"></span><span
            class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord">0</span><span
            class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace"
                                                                                                   style="margin-right: 0.2222em;"></span></span><span
            class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span
            class="mord">1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span
            class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut"
                                                                                                  style="height: 0.7278em; vertical-align: -0.0833em;"></span><span
            class="mord">2</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span
            class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut"
                                                                                                  style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord">3</span><span class="mclose">)</span><span class="mspace"
                                                                    style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 1.1901em; vertical-align: -0.345em;"></span><span
            class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span></span></span></span></span>.</p>
<p>After completing <span class="math math-inline"><span class="katex"><span class="katex-mathml">2m5\frac{2m}{5}</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 1.1901em; vertical-align: -0.345em;"></span><span
        class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span
        class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span style="top: -2.655em;"><span class="pstrut"
                                                                                                         style="height: 3em;"></span><span
        class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span
        class="mord mtight">5</span></span></span></span><span style="top: -3.23em;"><span class="pstrut"
                                                                                           style="height: 3em;"></span><span
        class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.394em;"><span
        class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span
        class="mord mtight"><span class="mord mtight">2</span><span
        class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span
        class="vlist-r"><span class="vlist" style="height: 0.345em;"><span></span></span></span></span></span><span
        class="mclose nulldelimiter"></span></span></span></span></span></span> operations, the <strong>average</strong>
    number of servings served is <span class="math math-inline"><span class="katex"><span class="katex-mathml">2m5⋅52=m\frac{2m}{5} \cdot \frac{5}{2} = m</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1.1901em; vertical-align: -0.345em;"></span><span
            class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span
            class="mord mathnormal mtight">m</span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span
            class="mbin">⋅</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
            class="base"><span class="strut" style="height: 1.1901em; vertical-align: -0.345em;"></span><span
            class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.4306em;"></span><span
            class="mord mathnormal">m</span></span></span></span></span> for soup A and <span
            class="math math-inline"><span class="katex"><span class="katex-mathml">2m5⋅32=3m5\frac{2m}{5} \cdot \frac{3}{2} = \frac{3m}{5}</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1.1901em; vertical-align: -0.345em;"></span><span
            class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span
            class="mord mathnormal mtight">m</span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span
            class="mbin">⋅</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
            class="base"><span class="strut" style="height: 1.1901em; vertical-align: -0.345em;"></span><span
            class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 1.1901em; vertical-align: -0.345em;"></span><span
            class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span
            class="mord mathnormal mtight">m</span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span></span></span></span></span> for soup B. In other words, after
    <span class="math math-inline"><span class="katex"><span class="katex-mathml">2m5\frac{2m}{5}</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1.1901em; vertical-align: -0.345em;"></span><span
            class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span
            class="mord mathnormal mtight">m</span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span></span></span></span></span> operations, soup B has, <strong>on
        average</strong>, <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">2m5\frac{2m}{5}</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 1.1901em; vertical-align: -0.345em;"></span><span
            class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span
            class="mord mathnormal mtight">m</span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span></span></span></span></span> servings remaining, while soup A is
    already empty. This indicates that, in the <strong>average</strong> scenario, soup A is depleted first.</p>
<p>When <span class="math math-inline"><span class="katex"><span class="katex-mathml">mm</span><span class="katex-html"
                                                                                                     aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span></span>
    is small, there is a noteworthy probability that the actual outcome will deviate sufficiently from the average,
    resulting in soup B finishing first. However, as <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">mm</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.4306em;"></span><span
            class="mord mathnormal">m</span></span></span></span></span> grows larger, according to the law of large
    numbers, this probability diminishes.</p>
<p>While it is not a strict proof, the law of large numbers explains why <span class="math math-inline"><span
        class="katex"><span class="katex-mathml">dp[m][m]\text{dp}[m][m]</span><span class="katex-html"
                                                                                     aria-hidden="true"><span
        class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
        class="mord mathnormal">m</span><span class="mclose">]</span><span class="mopen">[</span><span
        class="mord mathnormal">m</span><span class="mclose">]</span></span></span></span></span> tends to <span
        class="math math-inline"><span class="katex"><span class="katex-mathml">11</span><span class="katex-html"
                                                                                               aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.6444em;"></span><span
        class="mord">1</span></span></span></span></span>.</p>
<p>One of the possible approaches to solve this problem is the following.</p>
<ul>
    <li>Implement the <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">O(m2)O(m^2)</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 1.0641em; vertical-align: -0.25em;"></span><span class="mord mathnormal"
                                                                                          style="margin-right: 0.02778em;">O</span><span
            class="mopen">(</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span
            class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
            style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span
            class="mord mtight">2</span></span></span></span></span></span></span></span><span
            class="mclose">)</span></span></span></span></span> DP solution.
    </li>
    <li>Investigate how the answer to the problem depends on <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">mm</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.4306em;"></span><span
            class="mord mathnormal">m</span></span></span></span></span>.
    </li>
    <li>Make an observation that when <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">mm</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.4306em;"></span><span
            class="mord mathnormal">m</span></span></span></span></span> increases, the answer also increases and tends
        to <span class="math math-inline"><span class="katex"><span class="katex-mathml">11</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.6444em;"></span><span
                class="mord">1</span></span></span></span></span>.
    </li>
    <li>Find the value <span class="math math-inline"><span class="katex"><span class="katex-mathml">m0m_0</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.5806em; vertical-align: -0.15em;"></span><span
            class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span
            style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut"
                                                                                style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.15em;"><span></span></span></span></span></span></span></span></span></span></span>
        when the answer starts to be greater than <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">1−10−51 - 10^{-5}</span><span class="katex-html" aria-hidden="true"><span
                class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span
                class="mord">1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord">1</span><span
                class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span
                class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
                style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
                class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span
                class="mord mtight">−</span><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></span></span>.
    </li>
    <li>If <span class="math math-inline"><span class="katex"><span class="katex-mathml">m&lt;m0m &lt; m_0</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.5782em; vertical-align: -0.0391em;"></span><span
            class="mord mathnormal">m</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.5806em; vertical-align: -0.15em;"></span><span
            class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span
            style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut"
                                                                                style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.15em;"><span></span></span></span></span></span></span></span></span></span></span>,
        run the DP solution, otherwise return <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">11</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>.
    </li>
</ul>
<p>We have <span class="math math-inline"><span class="katex"><span
        class="katex-mathml">m0≈200m_0 \approx 200</span><span class="katex-html" aria-hidden="true"><span class="base"><span
        class="strut" style="height: 0.6331em; vertical-align: -0.15em;"></span><span class="mord"><span
        class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span
        class="vlist" style="height: 0.3011em;"><span
        style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut"
                                                                            style="height: 2.7em;"></span><span
        class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span
        class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                   style="height: 0.15em;"><span></span></span></span></span></span></span><span
        class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≈</span><span class="mspace"
                                                                                               style="margin-right: 0.2778em;"></span></span><span
        class="base"><span class="strut" style="height: 0.6444em;"></span><span
        class="mord">200</span></span></span></span></span>. This can be found by experimenting with the code. For
    example, one could use an if statement to check if <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">dp[m][m]\text{dp}[m][m]</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord mathnormal">m</span><span class="mclose">]</span><span class="mopen">[</span><span
            class="mord mathnormal">m</span><span class="mclose">]</span></span></span></span></span> is greater than
    <span class="math math-inline"><span class="katex"><span class="katex-mathml">1−10−51 - 10^{-5}</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.7278em; vertical-align: -0.0833em;"></span><span
            class="mord">1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span
            class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut"
                                                                                                  style="height: 0.8141em;"></span><span
            class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span
            class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
            style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span
            class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></span></span>
    and print a message when it is. Then you could repeatedly input values of <span class="math math-inline"><span
            class="katex"><span class="katex-mathml">mm</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.4306em;"></span><span
            class="mord mathnormal">m</span></span></span></span></span> until the message is printed.</p>
<p>But what if one cannot experiment with the code to find <span class="math math-inline"><span class="katex"><span
        class="katex-mathml">m0m_0</span><span class="katex-html" aria-hidden="true"><span class="base"><span
        class="strut" style="height: 0.5806em; vertical-align: -0.15em;"></span><span class="mord"><span
        class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span
        class="vlist" style="height: 0.3011em;"><span
        style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut"
                                                                            style="height: 2.7em;"></span><span
        class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span
        class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                   style="height: 0.15em;"><span></span></span></span></span></span></span></span></span></span></span>?
    In this case, the provided approach is inappropriate. However, it is not necessary to find <span
            class="math math-inline"><span class="katex"><span class="katex-mathml">m0m_0</span><span class="katex-html"
                                                                                                      aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.5806em; vertical-align: -0.15em;"></span><span
            class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span
            style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut"
                                                                                style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.15em;"><span></span></span></span></span></span></span></span></span></span></span>
    explicitly. We can calculate <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[k][k]\text{dp}[k][k]</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mclose">]</span><span
            class="mopen">[</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span
            class="mclose">]</span></span></span></span></span> for all <span class="math math-inline"><span
            class="katex"><span class="katex-mathml">k≤mk \le m</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.8304em; vertical-align: -0.136em;"></span><span
            class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mspace"
                                                                                   style="margin-right: 0.2778em;"></span><span
            class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.4306em;"></span><span
            class="mord mathnormal">m</span></span></span></span></span>, but as soon as <span class="math math-inline"><span
            class="katex"><span class="katex-mathml">dp[k][k]\text{dp}[k][k]</span><span class="katex-html"
                                                                                         aria-hidden="true"><span
            class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mclose">]</span><span
            class="mopen">[</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span
            class="mclose">]</span></span></span></span></span> becomes greater than <span
            class="math math-inline"><span class="katex"><span class="katex-mathml">1−10−51 - 10^{-5}</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.7278em; vertical-align: -0.0833em;"></span><span
            class="mord">1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span
            class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut"
                                                                                                  style="height: 0.8141em;"></span><span
            class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span
            class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
            style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span
            class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></span></span>,
    we return <span class="math math-inline"><span class="katex"><span class="katex-mathml">11</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.6444em;"></span><span
            class="mord">1</span></span></span></span></span> as the answer.</p>
<p>The algorithm will be as follows.</p>
<ul>
    <li>Initialize <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[0][0]=12\text{dp}[0][0] = \frac{1}{2}</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span class="mord">0</span><span
            class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span
            class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 1.1901em; vertical-align: -0.345em;"></span><span
            class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span></span></span></span></span>.
    </li>
    <li>Iterate <span class="math math-inline"><span class="katex"><span class="katex-mathml">kk</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.6944em;"></span><span
            class="mord mathnormal" style="margin-right: 0.03148em;">k</span></span></span></span></span> from <span
            class="math math-inline"><span class="katex"><span class="katex-mathml">11</span><span class="katex-html"
                                                                                                   aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>
        to <span class="math math-inline"><span class="katex"><span class="katex-mathml">mm</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.4306em;"></span><span
                class="mord mathnormal">m</span></span></span></span></span>.
        <ul>
            <li>Calculate <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[i][j]\text{dp}[i][j]</span><span
                    class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                   style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
                    class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span
                    class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span
                    class="mclose">]</span></span></span></span></span> for all <span class="math math-inline"><span
                    class="katex"><span class="katex-mathml">ii</span><span class="katex-html" aria-hidden="true"><span
                    class="base"><span class="strut" style="height: 0.6595em;"></span><span
                    class="mord mathnormal">i</span></span></span></span></span>, <span class="math math-inline"><span
                    class="katex"><span class="katex-mathml">jj</span><span class="katex-html" aria-hidden="true"><span
                    class="base"><span class="strut" style="height: 0.854em; vertical-align: -0.1944em;"></span><span
                    class="mord mathnormal" style="margin-right: 0.05724em;">j</span></span></span></span></span> such
                that <span class="math math-inline"><span class="katex"><span class="katex-mathml">max⁡(i,j)=k\max (i, j) = k</span><span
                        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                       style="height: 1em; vertical-align: -0.25em;"></span><span
                        class="mop">max</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span
                        class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span
                        class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span
                        class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
                        class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
                        class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal"
                                                                                                style="margin-right: 0.03148em;">k</span></span></span></span></span>.
            </li>
            <li>If <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[k][k]&gt;1−10−5\text{dp}[k][k] &gt; 1 - 10^{-5}</span><span
                    class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                   style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
                    class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mclose">]</span><span
                    class="mopen">[</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span
                    class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
                    class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
                    class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span
                    class="mord">1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span
                    class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut"
                                                                                                          style="height: 0.8141em;"></span><span
                    class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span
                    class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
                    style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut"
                                                                       style="height: 2.7em;"></span><span
                    class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span
                    class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></span></span>,
                return <span class="math math-inline"><span class="katex"><span class="katex-mathml">11</span><span
                        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                       style="height: 0.6444em;"></span><span
                        class="mord">1</span></span></span></span></span>.
            </li>
        </ul>
    </li>
    <li>Return <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">dp[m][m]\text{dp}[m][m]</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord mathnormal">m</span><span class="mclose">]</span><span class="mopen">[</span><span
            class="mord mathnormal">m</span><span class="mclose">]</span></span></span></span></span>.
    </li>
</ul>
<h4 id="algorithm">Algorithm</h4>
<p>We will use an auxiliary function <span class="math math-inline"><span class="katex"><span class="katex-mathml">calculateDP(i,j)\text{calculateDP}(i, j)</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord text"><span class="mord">calculateDP</span></span><span class="mopen">(</span><span
        class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace"
                                                                           style="margin-right: 0.1667em;"></span><span
        class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span
        class="mclose">)</span></span></span></span></span>, that will calculate <span class="math math-inline"><span
        class="katex"><span class="katex-mathml">dp[i][j]\text{dp}[i][j]</span><span class="katex-html"
                                                                                     aria-hidden="true"><span
        class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
        class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span
        class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span
        class="mclose">]</span></span></span></span></span> using the DP reccurrence relation <span
        class="math math-inline"><span class="katex"><span class="katex-mathml">dp[i][j]=14(dp[max⁡(0,i−4)][j]+dp[max⁡(0,i−3)][j−1]+dp[max⁡(0,i−2)][max⁡(0,j−2)]+dp[i−1][max⁡(0,j−3)])\text{dp}[i][j] = \frac{1}{4} (\text{dp}[\max (0, i - 4)][j] + \text{dp}[\max(0, i - 3)][j - 1] + \text{dp}[\max(0, i - 2)][\max(0, j - 2)] + \text{dp}[i - 1][\max(0, j - 3)])</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
        class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span
        class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span><span
        class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace"
                                                                                               style="margin-right: 0.2778em;"></span></span><span
        class="base"><span class="strut" style="height: 1.1901em; vertical-align: -0.345em;"></span><span
        class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span
        class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span style="top: -2.655em;"><span class="pstrut"
                                                                                                         style="height: 3em;"></span><span
        class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span
        class="mord mtight">4</span></span></span></span><span style="top: -3.23em;"><span class="pstrut"
                                                                                           style="height: 3em;"></span><span
        class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.394em;"><span
        class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span
        class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span
        class="vlist-r"><span class="vlist" style="height: 0.345em;"><span></span></span></span></span></span><span
        class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord text"><span
        class="mord">dp</span></span><span class="mopen">[</span><span class="mop">max</span><span
        class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace"
                                                                                            style="margin-right: 0.1667em;"></span><span
        class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
        class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">4</span><span
        class="mclose">)]</span><span class="mopen">[</span><span class="mord mathnormal"
                                                                  style="margin-right: 0.05724em;">j</span><span
        class="mclose">]</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
        class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord text"><span
        class="mord">dp</span></span><span class="mopen">[</span><span class="mop">max</span><span
        class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace"
                                                                                            style="margin-right: 0.1667em;"></span><span
        class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
        class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">3</span><span
        class="mclose">)]</span><span class="mopen">[</span><span class="mord mathnormal"
                                                                  style="margin-right: 0.05724em;">j</span><span
        class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace"
                                                                                               style="margin-right: 0.2222em;"></span></span><span
        class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord">1</span><span class="mclose">]</span><span class="mspace"
                                                                style="margin-right: 0.2222em;"></span><span
        class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord text"><span
        class="mord">dp</span></span><span class="mopen">[</span><span class="mop">max</span><span
        class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace"
                                                                                            style="margin-right: 0.1667em;"></span><span
        class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
        class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">2</span><span
        class="mclose">)]</span><span class="mopen">[</span><span class="mop">max</span><span
        class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace"
                                                                                            style="margin-right: 0.1667em;"></span><span
        class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                               style="margin-right: 0.2222em;"></span><span
        class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">2</span><span
        class="mclose">)]</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
        class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord text"><span
        class="mord">dp</span></span><span class="mopen">[</span><span class="mord mathnormal">i</span><span
        class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace"
                                                                                               style="margin-right: 0.2222em;"></span></span><span
        class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mop">max</span><span
        class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace"
                                                                                            style="margin-right: 0.1667em;"></span><span
        class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                               style="margin-right: 0.2222em;"></span><span
        class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">3</span><span
        class="mclose">)])</span></span></span></span></span>.</p>
<p>The main function will be as follows.</p>
<ul>
    <li>Calculate <span class="math math-inline"><span class="katex"><span class="katex-mathml">m=ceil(n25)m = \text{ceil}\left(\frac{n}{25}\right)</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.4306em;"></span><span
            class="mord mathnormal">m</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 1.2em; vertical-align: -0.35em;"></span><span
            class="mord text"><span class="mord">ceil</span></span><span class="mspace"
                                                                         style="margin-right: 0.1667em;"></span><span
            class="minner"><span class="mopen delimcenter" style="top: 0em;"><span
            class="delimsizing size1">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span
            class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"
                                                                                     style="height: 0.6954em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">25</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span
            class="mord mathnormal mtight">n</span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top: 0em;"><span
            class="delimsizing size1">)</span></span></span></span></span></span></span> – the initial amount of soup
        servings.
    </li>
    <li>Declare the hash map <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">dp\text{dp}</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord text"><span
            class="mord">dp</span></span></span></span></span></span>.
    </li>
    <li>Initialize <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[0][0]=12\text{dp}[0][0] = \frac{1}{2}</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span class="mord">0</span><span
            class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span
            class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 1.1901em; vertical-align: -0.345em;"></span><span
            class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span></span></span></span></span> as the base case of the DP.
    </li>
    <li>Iterate <span class="math math-inline"><span class="katex"><span class="katex-mathml">kk</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.6944em;"></span><span
            class="mord mathnormal" style="margin-right: 0.03148em;">k</span></span></span></span></span> from <span
            class="math math-inline"><span class="katex"><span class="katex-mathml">11</span><span class="katex-html"
                                                                                                   aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>
        to <span class="math math-inline"><span class="katex"><span class="katex-mathml">mm</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.4306em;"></span><span
                class="mord mathnormal">m</span></span></span></span></span>.
        <ul>
            <li>Assign <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[0][k]=1\text{dp}[0][k] = 1</span><span
                    class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                   style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span class="mord">0</span><span
                    class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal"
                                                                             style="margin-right: 0.03148em;">k</span><span
                    class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
                    class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
                    class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>,
                <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[k][0]=0\text{dp}[k][0] = 0</span><span
                        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                       style="height: 1em; vertical-align: -0.25em;"></span><span
                        class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
                        class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span
                        class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span
                        class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
                        class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
                        class="base"><span class="strut" style="height: 0.6444em;"></span><span
                        class="mord">0</span></span></span></span></span> as the base cases.
            </li>
            <li>Iterate <span class="math math-inline"><span class="katex"><span class="katex-mathml">jj</span><span
                    class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                   style="height: 0.854em; vertical-align: -0.1944em;"></span><span
                    class="mord mathnormal" style="margin-right: 0.05724em;">j</span></span></span></span></span> from
                <span class="math math-inline"><span class="katex"><span class="katex-mathml">11</span><span
                        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                       style="height: 0.6444em;"></span><span
                        class="mord">1</span></span></span></span></span> to <span class="math math-inline"><span
                        class="katex"><span class="katex-mathml">kk</span><span class="katex-html"
                                                                                aria-hidden="true"><span
                        class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal"
                                                                                                style="margin-right: 0.03148em;">k</span></span></span></span></span>.
                <ul>
                    <li>Set <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[j][k]=calculateDP(j,k)\text{dp}[j][k] = \text{calculateDP}(j, k)</span><span
                            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
                            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
                            class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span
                            class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal"
                                                                                     style="margin-right: 0.03148em;">k</span><span
                            class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
                            class="mrel">=</span><span class="mspace"
                                                       style="margin-right: 0.2778em;"></span></span><span class="base"><span
                            class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                            class="mord text"><span class="mord">calculateDP</span></span><span
                            class="mopen">(</span><span class="mord mathnormal"
                                                        style="margin-right: 0.05724em;">j</span><span
                            class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span
                            class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span
                            class="mclose">)</span></span></span></span></span>.
                    </li>
                    <li>Set <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[k][j]=calculateDP(k,j)\text{dp}[k][j] = \text{calculateDP}(k, j)</span><span
                            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
                            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
                            class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span
                            class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal"
                                                                                     style="margin-right: 0.05724em;">j</span><span
                            class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
                            class="mrel">=</span><span class="mspace"
                                                       style="margin-right: 0.2778em;"></span></span><span class="base"><span
                            class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                            class="mord text"><span class="mord">calculateDP</span></span><span
                            class="mopen">(</span><span class="mord mathnormal"
                                                        style="margin-right: 0.03148em;">k</span><span
                            class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span
                            class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span
                            class="mclose">)</span></span></span></span></span>.
                    </li>
                </ul>
            </li>
            <li>If <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[k][k]&gt;1−10−5\text{dp}[k][k] &gt; 1 - 10^{-5}</span><span
                    class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                   style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
                    class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mclose">]</span><span
                    class="mopen">[</span><span class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span
                    class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
                    class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
                    class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span
                    class="mord">1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span
                    class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut"
                                                                                                          style="height: 0.8141em;"></span><span
                    class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span
                    class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
                    style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut"
                                                                       style="height: 2.7em;"></span><span
                    class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span
                    class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></span></span>,
                return <span class="math math-inline"><span class="katex"><span class="katex-mathml">11</span><span
                        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                       style="height: 0.6444em;"></span><span
                        class="mord">1</span></span></span></span></span>.
            </li>
        </ul>
    </li>
    <li>Return <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">dp[m][m]\text{dp}[m][m]</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord mathnormal">m</span><span class="mclose">]</span><span class="mopen">[</span><span
            class="mord mathnormal">m</span><span class="mclose">]</span></span></span></span></span>.
    </li>
</ul>
<h4 id="implementation">Implementation</h4>
<pre>
    Java
    <code>
        class Solution {
    public double soupServings(int n) {
        int m = (int)Math.ceil(n / 25.0);
        Map<Integer, Map<Integer, Double>> dp = new HashMap<>();
        dp.put(0, new HashMap<>());
        dp.get(0).put(0, 0.5);

        for (int k = 1; k <= m; k++) {
            dp.put(k, new HashMap<>());
            dp.get(0).put(k, 1.0);
            dp.get(k).put(0, 0.0);
            for (int j = 1; j <= k; j++) {
                dp.get(j).put(k, calculateDP(j, k, dp));
                dp.get(k).put(j, calculateDP(k, j, dp));
            }
            if (dp.get(k).get(k) > 1 - 1e-5) {
                return 1;
            }
        }

        return dp.get(m).get(m);
    }

    private double calculateDP(int i, int j, Map<Integer, Map<Integer, Double>> dp) {
        return (dp.get(Math.max(0, i - 4)).get(j)
                + dp.get(Math.max(0, i - 3)).get(j - 1)
                + dp.get(Math.max(0, i - 2)).get(Math.max(0, j - 2))
                + dp.get(i - 1).get(Math.max(0, j - 3))) / 4;
    }
}
    </code>
    C++
    <code>
        class Solution {
public:
    double soupServings(int n) {
        int m = ceil(n / 25.0);
        unordered_map<int, unordered_map<int, double>> dp;

        function<double(int, int)> calculateDP = [&](int i, int j) -> double {
            return (dp[max(0, i - 4)][j] + dp[max(0, i - 3)][j - 1] +
                    dp[max(0, i - 2)][max(0, j - 2)] + dp[i - 1][max(0, j - 3)]) /
                   4;
        };

        dp[0][0] = 0.5;
        for (int k = 1; k <= m; k++) {
            dp[0][k] = 1;
            dp[k][0] = 0;
            for (int j = 1; j <= k; j++) {
                dp[j][k] = calculateDP(j, k);
                dp[k][j] = calculateDP(k, j);
            }
            if (dp[k][k] > 1 - 1e-5) {
                return 1;
            }
        }
        return dp[m][m];
    }
};
    </code>
    Python3
    <code>
        class Solution:
    def soupServings(self, n: int) -> float:
        m = ceil(n / 25)
        dp = {}

        def calculate_dp(i, j):
            return (dp[max(0, i - 4)][j] + dp[max(0, i - 3)][j - 1] +
                    dp[max(0, i - 2)][max(0, j - 2)]
                    + dp[i - 1][max(0, j - 3)]) / 4

        dp[0] = {0: 0.5}
        for k in range(1, m + 1):
            dp[0][k] = 1
            dp[k] = {0: 0}
            for j in range(1, k + 1):
                dp[j][k] = calculate_dp(j, k)
                dp[k][j] = calculate_dp(k, j)
            if dp[k][k] > 1 - 1e-5:
                return 1
        return dp[m][m]
    </code>
</pre>
<h4 id="complexity-analysis">Complexity Analysis</h4>
<ul>
    <li>Time complexity: <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">O(1)O(1)</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal"
                                                                                     style="margin-right: 0.02778em;">O</span><span
            class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>.
    </li>
</ul>
<p>Let <span class="math math-inline"><span class="katex"><span class="katex-mathml">ϵ\epsilon</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 0.4306em;"></span><span
        class="mord mathnormal">ϵ</span></span></span></span></span> be the error tolerance, and <span
        class="math math-inline"><span class="katex"><span class="katex-mathml">m0m_0</span><span class="katex-html"
                                                                                                  aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.5806em; vertical-align: -0.15em;"></span><span
        class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span
        class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span
        style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut"
                                                                            style="height: 2.7em;"></span><span
        class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span
        class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                   style="height: 0.15em;"><span></span></span></span></span></span></span></span></span></span></span>
    be the first value such that <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[m0][m0]&gt;1−ϵ\text{dp}[m_0][m_0] &gt; 1 - \epsilon</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span class="mord"><span
            class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span
            class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span
            style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut"
                                                                                style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.15em;"><span></span></span></span></span></span></span><span
            class="mclose">]</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">m</span><span
            class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"
                                                                                       style="height: 0.3011em;"><span
            style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut"
                                                                                style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.15em;"><span></span></span></span></span></span></span><span
            class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span
            class="mord">1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span
            class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut"
                                                                                                  style="height: 0.4306em;"></span><span
            class="mord mathnormal">ϵ</span></span></span></span></span>.</p>
<p>We calculate <span class="math math-inline"><span class="katex"><span class="katex-mathml">O(min⁡(m,m0)2)=O(m02)O(\min(m, m_0) ^ 2) = O(m_0 ^ 2)</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 1.0641em; vertical-align: -0.25em;"></span><span
        class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mop">min</span><span
        class="mopen">(</span><span class="mord mathnormal">m</span><span class="mpunct">,</span><span class="mspace"
                                                                                                       style="margin-right: 0.1667em;"></span><span
        class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span
        class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span
        style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut"
                                                                            style="height: 2.7em;"></span><span
        class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span
        class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                   style="height: 0.15em;"><span></span></span></span></span></span></span><span
        class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span
        class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
        style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
        class="sizing reset-size6 size3 mtight"><span
        class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span
        class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace"
                                                                                               style="margin-right: 0.2778em;"></span></span><span
        class="base"><span class="strut" style="height: 1.0641em; vertical-align: -0.25em;"></span><span
        class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span
        class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span
        class="vlist" style="height: 0.8141em;"><span
        style="top: -2.4519em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut"
                                                                              style="height: 2.7em;"></span><span
        class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span
        style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
        class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span
        class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.2481em;"><span></span></span></span></span></span></span><span
        class="mclose">)</span></span></span></span></span> states of DP in <span class="math math-inline"><span
        class="katex"><span class="katex-mathml">O(1)O(1)</span><span class="katex-html" aria-hidden="true"><span
        class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span
        class="mclose">)</span></span></span></span></span> each, meaning the total time complexity of the solution is
    <span class="math math-inline"><span class="katex"><span class="katex-mathml">O(m02)O(m_0 ^ 2)</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1.0641em; vertical-align: -0.25em;"></span><span
            class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
            class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
            style="top: -2.4519em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut"
                                                                                  style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span
            style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.2481em;"><span></span></span></span></span></span></span><span
            class="mclose">)</span></span></span></span></span>.</p>
<p>We assume <span class="math math-inline"><span class="katex"><span class="katex-mathml">ϵ\epsilon</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 0.4306em;"></span><span
        class="mord mathnormal">ϵ</span></span></span></span></span> to be constant. It implies that <span
        class="math math-inline"><span class="katex"><span class="katex-mathml">m0m_0</span><span class="katex-html"
                                                                                                  aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.5806em; vertical-align: -0.15em;"></span><span
        class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span
        class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span
        style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut"
                                                                            style="height: 2.7em;"></span><span
        class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span
        class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                   style="height: 0.15em;"><span></span></span></span></span></span></span></span></span></span></span>
    is also constant, thus <span class="math math-inline"><span class="katex"><span class="katex-mathml">O(m02)=O(1)O(m_0 ^ 2) = O(1)</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1.0641em; vertical-align: -0.25em;"></span><span
            class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
            class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
            style="top: -2.4519em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut"
                                                                                  style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span
            style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.2481em;"><span></span></span></span></span></span></span><span
            class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
            class="mord">1</span><span class="mclose">)</span></span></span></span></span>. In our case, <span
            class="math math-inline"><span class="katex"><span class="katex-mathml">ϵ\epsilon</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.4306em;"></span><span
            class="mord mathnormal">ϵ</span></span></span></span></span> is <span class="math math-inline"><span
            class="katex"><span class="katex-mathml">10−510^{-5}</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord">1</span><span
            class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span
            class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
            style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span
            class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></span></span>,
    which gives us <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">m0≈200m_0 \approx 200</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.6331em; vertical-align: -0.15em;"></span><span
            class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span
            style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut"
                                                                                style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.15em;"><span></span></span></span></span></span></span><span
            class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≈</span><span class="mspace"
                                                                                                   style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span
            class="mord">200</span></span></span></span></span>.</p>
<ul>
    <li>Space complexity: <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">O(1)O(1)</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal"
                                                                                     style="margin-right: 0.02778em;">O</span><span
            class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>.
    </li>
</ul>
<p>The space complexity is <span class="math math-inline"><span class="katex"><span class="katex-mathml">O(m02)=O(1)O(m_0 ^ 2) = O(1)</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 1.0641em; vertical-align: -0.25em;"></span><span
        class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span
        class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span
        class="vlist" style="height: 0.8141em;"><span
        style="top: -2.4519em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut"
                                                                              style="height: 2.7em;"></span><span
        class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span
        style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
        class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span
        class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.2481em;"><span></span></span></span></span></span></span><span
        class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
        class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal"
                                                                                 style="margin-right: 0.02778em;">O</span><span
        class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>.</p>
<hr>
<h3 id="approach-2-top-down-dynamic-programming-memoization">Approach 2: Top-Down Dynamic Programming (Memoization)</h3>
<h4 id="intuition-1">Intuition</h4>
<p>In this approach, we will compute the same DP, but the manner of computation will be different. We will use a
    recursive function <span class="math math-inline"><span class="katex"><span class="katex-mathml">calculateDP(i,j)\text{calculateDP}(i, j)</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">calculateDP</span></span><span class="mopen">(</span><span
            class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace"
                                                                               style="margin-right: 0.1667em;"></span><span
            class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mclose">)</span></span></span></span></span>
    that will return <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[i][j]\text{dp}[i][j]</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span
            class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span></span></span></span></span>.
</p>
<p>We will allow negative values <span class="math math-inline"><span class="katex"><span class="katex-mathml">ii</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 0.6595em;"></span><span
        class="mord mathnormal">i</span></span></span></span></span> and <span class="math math-inline"><span
        class="katex"><span class="katex-mathml">jj</span><span class="katex-html" aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.854em; vertical-align: -0.1944em;"></span><span
        class="mord mathnormal" style="margin-right: 0.05724em;">j</span></span></span></span></span>, meaning the
    corresponding soup is empty.</p>
<p>The base cases are:</p>
<ul>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">calculateDP(i,j)=12\text{calculateDP}(i, j) = \frac{1}{2}</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">calculateDP</span></span><span class="mopen">(</span><span
            class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace"
                                                                               style="margin-right: 0.1667em;"></span><span
            class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mclose">)</span><span
            class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace"
                                                                                                   style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 1.1901em; vertical-align: -0.345em;"></span><span
            class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
            class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span></span></span></span></span> for <span
            class="math math-inline"><span class="katex"><span class="katex-mathml">i≤0,j≤0i \le 0, j \le 0</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.7955em; vertical-align: -0.136em;"></span><span
            class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.854em; vertical-align: -0.1944em;"></span><span
            class="mord">0</span><span class="mpunct">,</span><span class="mspace"
                                                                    style="margin-right: 0.1667em;"></span><span
            class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                                   style="margin-right: 0.2778em;"></span><span
            class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>
        – ran out of both types of soup.
    </li>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">calculateDP(i,j)=1\text{calculateDP}(i, j) = 1</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">calculateDP</span></span><span class="mopen">(</span><span
            class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace"
                                                                               style="margin-right: 0.1667em;"></span><span
            class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mclose">)</span><span
            class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace"
                                                                                                   style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>
        for <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">i≤0,j&gt;0i \le 0, j &gt; 0</span><span class="katex-html" aria-hidden="true"><span
                class="base"><span class="strut" style="height: 0.7955em; vertical-align: -0.136em;"></span><span
                class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
                class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
                class="base"><span class="strut" style="height: 0.854em; vertical-align: -0.1944em;"></span><span
                class="mord">0</span><span class="mpunct">,</span><span class="mspace"
                                                                        style="margin-right: 0.1667em;"></span><span
                class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                                       style="margin-right: 0.2778em;"></span><span
                class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
                class="base"><span class="strut" style="height: 0.6444em;"></span><span
                class="mord">0</span></span></span></span></span> – ran out of only soup A.
    </li>
    <li><span class="math math-inline"><span class="katex"><span class="katex-mathml">calculateDP(i,j)=0\text{calculateDP}(i, j) = 0</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">calculateDP</span></span><span class="mopen">(</span><span
            class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace"
                                                                               style="margin-right: 0.1667em;"></span><span
            class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mclose">)</span><span
            class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace"
                                                                                                   style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>
        for <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">i&gt;0,j≤0i &gt; 0, j \le 0</span><span class="katex-html" aria-hidden="true"><span
                class="base"><span class="strut" style="height: 0.6986em; vertical-align: -0.0391em;"></span><span
                class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
                class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
                class="base"><span class="strut" style="height: 0.854em; vertical-align: -0.1944em;"></span><span
                class="mord">0</span><span class="mpunct">,</span><span class="mspace"
                                                                        style="margin-right: 0.1667em;"></span><span
                class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                                       style="margin-right: 0.2778em;"></span><span
                class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
                class="base"><span class="strut" style="height: 0.6444em;"></span><span
                class="mord">0</span></span></span></span></span> – ran out of only soup B.
    </li>
</ul>
<p>The reccurrence relation in terms of <span class="math math-inline"><span class="katex"><span class="katex-mathml">calculateDP\text{calculateDP}</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 0.6944em;"></span><span
        class="mord text"><span class="mord">calculateDP</span></span></span></span></span></span> is <span
        class="math math-inline"><span class="katex"><span class="katex-mathml">calculateDP(i,j)=14(calculateDP(i−4,j)+calculateDP(i−3,j−1)+calculateDP(i−2,j−2)+calculateDP(i−1,j−3))\text{calculateDP}(i, j) = \frac{1}{4} (\text{calculateDP}(i - 4, j) + \text{calculateDP}(i - 3, j - 1) + \text{calculateDP}(i - 2, j - 2) + \text{calculateDP}(i - 1, j - 3))</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord text"><span class="mord">calculateDP</span></span><span class="mopen">(</span><span
        class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace"
                                                                           style="margin-right: 0.1667em;"></span><span
        class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mclose">)</span><span
        class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace"
                                                                                               style="margin-right: 0.2778em;"></span></span><span
        class="base"><span class="strut" style="height: 1.1901em; vertical-align: -0.345em;"></span><span
        class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span
        class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span style="top: -2.655em;"><span class="pstrut"
                                                                                                         style="height: 3em;"></span><span
        class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span
        class="mord mtight">4</span></span></span></span><span style="top: -3.23em;"><span class="pstrut"
                                                                                           style="height: 3em;"></span><span
        class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.394em;"><span
        class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span
        class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span
        class="vlist-r"><span class="vlist" style="height: 0.345em;"><span></span></span></span></span></span><span
        class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord text"><span
        class="mord">calculateDP</span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span
        class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace"
                                                                                               style="margin-right: 0.2222em;"></span></span><span
        class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord">4</span><span class="mpunct">,</span><span class="mspace"
                                                                style="margin-right: 0.1667em;"></span><span
        class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mclose">)</span><span
        class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace"
                                                                                               style="margin-right: 0.2222em;"></span></span><span
        class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord text"><span class="mord">calculateDP</span></span><span class="mopen">(</span><span
        class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
        class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 0.854em; vertical-align: -0.1944em;"></span><span class="mord">3</span><span
        class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal"
                                                                                                 style="margin-right: 0.05724em;">j</span><span
        class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace"
                                                                                               style="margin-right: 0.2222em;"></span></span><span
        class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord">1</span><span class="mclose">)</span><span class="mspace"
                                                                style="margin-right: 0.2222em;"></span><span
        class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord text"><span class="mord">calculateDP</span></span><span
        class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace"
                                                                          style="margin-right: 0.2222em;"></span><span
        class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 0.854em; vertical-align: -0.1944em;"></span><span class="mord">2</span><span
        class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal"
                                                                                                 style="margin-right: 0.05724em;">j</span><span
        class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace"
                                                                                               style="margin-right: 0.2222em;"></span></span><span
        class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord">2</span><span class="mclose">)</span><span class="mspace"
                                                                style="margin-right: 0.2222em;"></span><span
        class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord text"><span class="mord">calculateDP</span></span><span
        class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace"
                                                                          style="margin-right: 0.2222em;"></span><span
        class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
        class="strut" style="height: 0.854em; vertical-align: -0.1944em;"></span><span class="mord">1</span><span
        class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal"
                                                                                                 style="margin-right: 0.05724em;">j</span><span
        class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace"
                                                                                               style="margin-right: 0.2222em;"></span></span><span
        class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord">3</span><span class="mclose">))</span></span></span></span></span>.</p>
<p>Since we do not want to recompute <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[i][j]\text{dp}[i][j]</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
        class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span
        class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span
        class="mclose">]</span></span></span></span></span> for the same state multiple times, we will store already
    found values in the hash map <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp\text{dp}</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.8889em; vertical-align: -0.1944em;"></span><span
            class="mord text"><span class="mord">dp</span></span></span></span></span></span>. Let's see how it works
    for <span class="math math-inline"><span class="katex"><span class="katex-mathml">i=4,j=7i = 4, j = 7</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.6595em;"></span><span
            class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.854em; vertical-align: -0.1944em;"></span><span
            class="mord">4</span><span class="mpunct">,</span><span class="mspace"
                                                                    style="margin-right: 0.1667em;"></span><span
            class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                                   style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">7</span></span></span></span></span>.
</p>
<p>We call <span class="math math-inline"><span class="katex"><span class="katex-mathml">calculateDP(4,7)\text{calculateDP}(4, 7)</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 1em; vertical-align: -0.25em;"></span><span
        class="mord text"><span class="mord">calculateDP</span></span><span class="mopen">(</span><span
        class="mord">4</span><span class="mpunct">,</span><span class="mspace"
                                                                style="margin-right: 0.1667em;"></span><span
        class="mord">7</span><span class="mclose">)</span></span></span></span></span> for the first time and the hash
    map <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp\text{dp}</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.8889em; vertical-align: -0.1944em;"></span><span
            class="mord text"><span class="mord">dp</span></span></span></span></span></span> does not contain the state
    <span class="math math-inline"><span class="katex"><span class="katex-mathml">i=4,j=7i = 4, j = 7</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.6595em;"></span><span
            class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.854em; vertical-align: -0.1944em;"></span><span
            class="mord">4</span><span class="mpunct">,</span><span class="mspace"
                                                                    style="margin-right: 0.1667em;"></span><span
            class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                                   style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">7</span></span></span></span></span>
    yet. We calculate this value using the recurrence formula and write it into <span class="math math-inline"><span
            class="katex"><span class="katex-mathml">dp[4][7]\text{dp}[4][7]</span><span class="katex-html"
                                                                                         aria-hidden="true"><span
            class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span class="mord">4</span><span
            class="mclose">]</span><span class="mopen">[</span><span class="mord">7</span><span class="mclose">]</span></span></span></span></span>.
    When we will call <span class="math math-inline"><span class="katex"><span class="katex-mathml">calculateDP(4,7)\text{calculateDP}(4, 7)</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">calculateDP</span></span><span class="mopen">(</span><span
            class="mord">4</span><span class="mpunct">,</span><span class="mspace"
                                                                    style="margin-right: 0.1667em;"></span><span
            class="mord">7</span><span class="mclose">)</span></span></span></span></span> later, we will not compute
    <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp[4][7]\text{dp}[4][7]</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span class="mord">4</span><span
            class="mclose">]</span><span class="mopen">[</span><span class="mord">7</span><span class="mclose">]</span></span></span></span></span>
    once more, but return the stored value <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">dp[4][7]\text{dp}[4][7]</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span class="mord">4</span><span
            class="mclose">]</span><span class="mopen">[</span><span class="mord">7</span><span class="mclose">]</span></span></span></span></span>
    from the hash map immediately.</p>
<p>Instead of iterating over DP states in nested <code>for</code> loops, we call the function with needed parameters,
    and the recursion will compute DP values for all required states.</p>
<h4 id="algorithm-1">Algorithm</h4>
<p>The recursive function <span class="math math-inline"><span class="katex"><span class="katex-mathml">calculateDP\text{calculateDP}</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 0.6944em;"></span><span
        class="mord text"><span class="mord">calculateDP</span></span></span></span></span></span> takes two parameters
    <span class="math math-inline"><span class="katex"><span class="katex-mathml">ii</span><span class="katex-html"
                                                                                                 aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.6595em;"></span><span
            class="mord mathnormal">i</span></span></span></span></span> and <span class="math math-inline"><span
            class="katex"><span class="katex-mathml">jj</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.854em; vertical-align: -0.1944em;"></span><span
            class="mord mathnormal" style="margin-right: 0.05724em;">j</span></span></span></span></span>.</p>
<ul>
    <li>If <span class="math math-inline"><span class="katex"><span class="katex-mathml">i≤0i \le 0</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.7955em; vertical-align: -0.136em;"></span><span
            class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>
        and <span class="math math-inline"><span class="katex"><span class="katex-mathml">j≤0j \le 0</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.854em; vertical-align: -0.1944em;"></span><span
                class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                                       style="margin-right: 0.2778em;"></span><span
                class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
                class="base"><span class="strut" style="height: 0.6444em;"></span><span
                class="mord">0</span></span></span></span></span>, return <span class="math math-inline"><span
                class="katex"><span class="katex-mathml">12\frac{1}{2}</span><span class="katex-html"
                                                                                   aria-hidden="true"><span
                class="base"><span class="strut" style="height: 1.1901em; vertical-align: -0.345em;"></span><span
                class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
                class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span
                style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
                class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span
                class="mord mtight">2</span></span></span></span><span style="top: -3.23em;"><span class="pstrut"
                                                                                                   style="height: 3em;"></span><span
                class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.394em;"><span
                class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span
                class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span
                class="vlist-r"><span class="vlist"
                                      style="height: 0.345em;"><span></span></span></span></span></span><span
                class="mclose nulldelimiter"></span></span></span></span></span></span>.
    </li>
    <li>If <span class="math math-inline"><span class="katex"><span class="katex-mathml">i≤0i \le 0</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.7955em; vertical-align: -0.136em;"></span><span
            class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>,
        return <span class="math math-inline"><span class="katex"><span class="katex-mathml">11</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.6444em;"></span><span
                class="mord">1</span></span></span></span></span>.
    </li>
    <li>If <span class="math math-inline"><span class="katex"><span class="katex-mathml">j≤0j \le 0</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.854em; vertical-align: -0.1944em;"></span><span
            class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                                   style="margin-right: 0.2778em;"></span><span
            class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>,
        return <span class="math math-inline"><span class="katex"><span class="katex-mathml">00</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.6444em;"></span><span
                class="mord">0</span></span></span></span></span>.
    </li>
    <li>If the hash map <span class="math math-inline"><span class="katex"><span class="katex-mathml">dp\text{dp}</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.8889em; vertical-align: -0.1944em;"></span><span
            class="mord text"><span class="mord">dp</span></span></span></span></span></span> contains the result for
        the state <span class="math math-inline"><span class="katex"><span class="katex-mathml">[i][j][i][j]</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span
                class="mopen">[</span><span class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span
                class="mclose">]</span></span></span></span></span>, return <span class="math math-inline"><span
                class="katex"><span class="katex-mathml">dp[i][j]\text{dp}[i][j]</span><span class="katex-html"
                                                                                             aria-hidden="true"><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
                class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span
                class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span
                class="mclose">]</span></span></span></span></span>.
    </li>
    <li>Compute <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">dp[i][j]\text{dp}[i][j]</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span
            class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span></span></span></span></span>
        as <span class="math math-inline"><span class="katex"><span class="katex-mathml">14(calculateDP(i−4,j)+calculateDP(i−3,j−1)+calculateDP(i−2,j−2)+calculateDP(i−1,j−3))\frac{1}{4} (\text{calculateDP}(i - 4, j) + \text{calculateDP}(i - 3, j - 1) + \text{calculateDP}(i - 2, j - 2) + \text{calculateDP}(i - 1, j - 3))</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 1.1901em; vertical-align: -0.345em;"></span><span
                class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span
                class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span
                style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
                class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span
                class="mord mtight">4</span></span></span></span><span style="top: -3.23em;"><span class="pstrut"
                                                                                                   style="height: 3em;"></span><span
                class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.394em;"><span
                class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span
                class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span
                class="vlist-r"><span class="vlist"
                                      style="height: 0.345em;"><span></span></span></span></span></span><span
                class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord text"><span
                class="mord">calculateDP</span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span
                class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace"
                                                                                                       style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord">4</span><span class="mpunct">,</span><span class="mspace"
                                                                        style="margin-right: 0.1667em;"></span><span
                class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mclose">)</span><span
                class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace"
                                                                                                       style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord text"><span class="mord">calculateDP</span></span><span class="mopen">(</span><span
                class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 0.854em; vertical-align: -0.1944em;"></span><span
                class="mord">3</span><span class="mpunct">,</span><span class="mspace"
                                                                        style="margin-right: 0.1667em;"></span><span
                class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                                       style="margin-right: 0.2222em;"></span><span
                class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord">1</span><span class="mclose">)</span><span class="mspace"
                                                                        style="margin-right: 0.2222em;"></span><span
                class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord text"><span class="mord">calculateDP</span></span><span class="mopen">(</span><span
                class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 0.854em; vertical-align: -0.1944em;"></span><span
                class="mord">2</span><span class="mpunct">,</span><span class="mspace"
                                                                        style="margin-right: 0.1667em;"></span><span
                class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                                       style="margin-right: 0.2222em;"></span><span
                class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord">2</span><span class="mclose">)</span><span class="mspace"
                                                                        style="margin-right: 0.2222em;"></span><span
                class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord text"><span class="mord">calculateDP</span></span><span class="mopen">(</span><span
                class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 0.854em; vertical-align: -0.1944em;"></span><span
                class="mord">1</span><span class="mpunct">,</span><span class="mspace"
                                                                        style="margin-right: 0.1667em;"></span><span
                class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mspace"
                                                                                       style="margin-right: 0.2222em;"></span><span
                class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord">3</span><span class="mclose">))</span></span></span></span></span>.
    </li>
    <li>Return <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">dp[i][j]\text{dp}[i][j]</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">dp</span></span><span class="mopen">[</span><span
            class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span
            class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span></span></span></span></span>.
    </li>
</ul>
<p>The main function.</p>
<ul>
    <li>Calculate <span class="math math-inline"><span class="katex"><span class="katex-mathml">m=ceil(n25)m = \text{ceil}\left(\frac{n}{25}\right)</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.4306em;"></span><span
            class="mord mathnormal">m</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
            class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
            class="base"><span class="strut" style="height: 1.2em; vertical-align: -0.35em;"></span><span
            class="mord text"><span class="mord">ceil</span></span><span class="mspace"
                                                                         style="margin-right: 0.1667em;"></span><span
            class="minner"><span class="mopen delimcenter" style="top: 0em;"><span
            class="delimsizing size1">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span
            class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"
                                                                                     style="height: 0.6954em;"><span
            style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">25</span></span></span></span><span
            style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                         style="border-bottom-width: 0.04em;"></span></span><span
            style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span
            class="mord mathnormal mtight">n</span></span></span></span></span><span
            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                                                                       style="height: 0.345em;"><span></span></span></span></span></span><span
            class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top: 0em;"><span
            class="delimsizing size1">)</span></span></span></span></span></span></span> – the initial amount of soup
        servings.
    </li>
    <li>Declare the hash map <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">dp\text{dp}</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord text"><span
            class="mord">dp</span></span></span></span></span></span>.
    </li>
    <li>Iterate <span class="math math-inline"><span class="katex"><span class="katex-mathml">kk</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.6944em;"></span><span
            class="mord mathnormal" style="margin-right: 0.03148em;">k</span></span></span></span></span> from <span
            class="math math-inline"><span class="katex"><span class="katex-mathml">11</span><span class="katex-html"
                                                                                                   aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>
        to <span class="math math-inline"><span class="katex"><span class="katex-mathml">mm</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.4306em;"></span><span
                class="mord mathnormal">m</span></span></span></span></span>.
        <ul>
            <li>If <span class="math math-inline"><span class="katex"><span class="katex-mathml">calculateDP(k,k)&gt;1−10−5\text{calculateDP}(k, k) &gt; 1 - 10^{-5}</span><span
                    class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                   style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord text"><span class="mord">calculateDP</span></span><span class="mopen">(</span><span
                    class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mpunct">,</span><span
                    class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal"
                                                                                style="margin-right: 0.03148em;">k</span><span
                    class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
                    class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
                    class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span
                    class="mord">1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span
                    class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut"
                                                                                                          style="height: 0.8141em;"></span><span
                    class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span
                    class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
                    style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut"
                                                                       style="height: 2.7em;"></span><span
                    class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span
                    class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></span></span>,
                return <span class="math math-inline"><span class="katex"><span class="katex-mathml">11</span><span
                        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                       style="height: 0.6444em;"></span><span
                        class="mord">1</span></span></span></span></span>.
            </li>
        </ul>
    </li>
    <li>Return <span class="math math-inline"><span class="katex"><span class="katex-mathml">calculateDP(m,m)\text{calculateDP}(m, m)</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord text"><span class="mord">calculateDP</span></span><span class="mopen">(</span><span
            class="mord mathnormal">m</span><span class="mpunct">,</span><span class="mspace"
                                                                               style="margin-right: 0.1667em;"></span><span
            class="mord mathnormal">m</span><span class="mclose">)</span></span></span></span></span>.
    </li>
</ul>
<h4 id="implementation-1">Implementation</h4>
<pre>
    Java
    <code>
        class Solution {
    public double soupServings(int n) {
        int m = (int)Math.ceil(n / 25.0);
        Map<Integer, Map<Integer, Double>> dp = new HashMap<>();

        for (int k = 1; k <= m; k++) {
            if (calculateDP(k, k, dp) > 1 - 1e-5) {
                return 1.0;
            }
        }
        return calculateDP(m, m, dp);
    }

    private double calculateDP(int i, int j, Map<Integer, Map<Integer, Double>> dp) {
        if (i <= 0 && j <= 0) {
            return 0.5;
        }
        if (i <= 0) {
            return 1.0;
        }
        if (j <= 0) {
            return 0.0;
        }
        if (dp.containsKey(i) && dp.get(i).containsKey(j)) {
            return dp.get(i).get(j);
        }
        double result = (calculateDP(i - 4, j, dp) + calculateDP(i - 3, j - 1, dp) +
                calculateDP(i - 2, j - 2, dp) + calculateDP(i - 1, j - 3, dp)) / 4.0;
        dp.computeIfAbsent(i, k -> new HashMap<>()).put(j, result);
        return result;
    }
}
    </code>
    C++
    <code>
        class Solution {
public:
    double soupServings(int n) {
        int m = ceil(n / 25.0);
        unordered_map<int, unordered_map<int, double>> dp;

        function<double(int, int)> calculateDP = [&](int i, int j) -> double {
            if (i <= 0 && j <= 0) {
                return 0.5;
            }
            if (i <= 0) {
                return 1;
            }
            if (j <= 0) {
                return 0;
            }
            if (dp[i].count(j)) {
                return dp[i][j];
            }
            return dp[i][j] = (calculateDP(i - 4, j) + calculateDP(i - 3, j - 1) +
                               calculateDP(i - 2, j - 2) + calculateDP(i - 1, j - 3)) /
                              4;
        };

        for (int k = 1; k <= m; k++) {
            if (calculateDP(k, k) > 1 - 1e-5) {
                return 1;
            }
        }
        return calculateDP(m, m);
    }
};
    </code>
    Python3
    <code>
        class Solution:
    def soupServings(self, n: int) -> float:
        m = ceil(n / 25)
        dp = collections.defaultdict(dict)

        def calculate_dp(i: int, j: int) -> float:
            if i <= 0 and j <= 0:
                return 0.5
            if i <= 0:
                return 1.0
            if j <= 0:
                return 0.0
            if i in dp and j in dp[i]:
                return dp[i][j]

            dp[i][j] = (
                calculate_dp(i - 4, j)
                + calculate_dp(i - 3, j - 1)
                + calculate_dp(i - 2, j - 2)
                + calculate_dp(i - 1, j - 3)
            ) / 4.0
            return dp[i][j]

        for k in range(1, m + 1):
            if calculate_dp(k, k) > 1 - 1e-5:
                return 1.0
        return calculate_dp(m, m)
    </code>
</pre>
<h4 id="complexity-analysis-1">Complexity Analysis</h4>
<ul>
    <li>
        <p>Time complexity: <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">O(1)O(1)</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal"
                                                                                         style="margin-right: 0.02778em;">O</span><span
                class="mopen">(</span><span class="mord">1</span><span
                class="mclose">)</span></span></span></span></span>.</p>
    </li>
    <li>
        <p>Space complexity: <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">O(1)O(1)</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal"
                                                                                         style="margin-right: 0.02778em;">O</span><span
                class="mopen">(</span><span class="mord">1</span><span
                class="mclose">)</span></span></span></span></span>.</p>
    </li>
</ul>
<p>Both time and space complexities are the same as in the first approach.</p>
</body>
</html>