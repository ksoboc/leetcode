<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Permutations - Solution</title>
</head>
<body>
<h2 id="solution">Permutations - Solution</h2>
<hr>
<h4 id="approach-backtracking">Approach: Backtracking</h4>
<p><strong>Intuition</strong></p>
<p>We are given that <code>n &lt;= 6</code>. Typically, problems that ask you to find <strong>all</strong> of something
    with low bounds can be solved with backtracking.</p>
<p>In backtracking, we generate all solutions one element at a time. This problem is asking us to generate all possible
    permutations, so we will generate permutations one element at a time.</p>
<p>To generate a permutation one element at a time, we will use an array <code>curr</code> that represents the current
    permutation we are building. To start, we add the first element in <code>nums</code>. We have <code>curr =
        [nums[0]]</code>. We are <strong>locking</strong> in this first value and we will now find all permutations that
    start with <code>nums[0]</code>.</p>
<p>To find all permutations that start with <code>nums[0]</code>, we start by adding the next element, which is <code>nums[1]</code>.
    We now have <code>curr = [nums[0], nums[1]]</code>. We are <strong>locking</strong> in this second element and we
    will now find all permutations that start with <code>nums[0], nums[1]</code>.</p>
<p>This continues until we use all elements, i.e. <code>curr.length == nums.length</code>. Let's say that we have
    finished finding all permutations that start with <code>[nums[0], nums[1]]</code>. Now what? We
    <strong>backtrack</strong> by removing the <code>nums[1]</code>, and we have <code>curr = [nums[0]]</code> again.
    Now, we add the second element that comes after <code>nums[0]</code>, which is <code>nums[2]</code>. We have <code>curr
        = [nums[0], nums[2]]</code>, and now we need to find all permutations that start with <code>[nums[0],
        nums[2]]</code>.</p>
<p>Once we find all the permutations that start with <code>[nums[0]]</code>, we backtrack by removing
    <code>nums[0]</code> from <code>curr</code> and adding the next element. We have <code>curr = [nums[1]]</code>, and
    now we need to find all permutations that start with <code>nums[1]</code>.</p>
<p>This process is very recursive in nature. Each time we add an element, we solve a new version of the problem (find
    all permutations that start with <code>curr</code>). The initial version of the problem is to find all permutations
    that start with <code>[]</code>, which represents all possible permutations.</p>
<blockquote>
    <p>To summarize: try all numbers in the first position. For each number in the first position, try all other numbers
        in the second position. For each pair of numbers in the first and second positions, try all other numbers in the
        third position, and so on.</p>
</blockquote>
<p><strong>Trees</strong></p>
<p>The best way to think about the backtracking process is by modeling it as a tree. You can imagine the solution space
    as a tree, with each node representing a version of <code>curr</code>. Label each node with a number that represents
    the last number in <code>curr</code>. Moving to a child is like adding the child's label to <code>curr</code>.</p>
<p>A permutation uses each element exactly once. A node should only have children with labels representing elements that
    haven't been used yet in the current path.</p>
<p>Given <code>nums = [1, 2, 3]</code>, here is the backtracking tree:</p>
<p><img src="1.png" alt="" width="960"> <br></p>
<p>The root node represents an empty <code>curr</code> <code>[]</code>. From the root, every node's <code>curr</code>
    represents the path taken from the root. The nodes at depth <code>nums.length</code> represent the answer
    permutations (the leaf nodes).</p>
<p>Solving this problem is equivalent to "traversing" this tree. The easiest way to perform the traversal is by using
    recursion and passing <code>curr</code> as an argument.</p>
<p>Think of each call to the recursive function as being a node in the tree. In each call, we need to iterate over the
    numbers that haven't been used yet (not currently in <code>curr</code>).</p>
<p>For each <code>num</code> that isn't already in <code>curr</code>, we add it to <code>curr</code> and then make a
    recursive call passing <code>curr</code>. Modifying <code>curr</code> and making a recursive call is equivalent to
    "traversing" to a child node in the tree.</p>
<p>When we return from a function call, it's equivalent to moving back up the tree (exactly like in a DFS). When we
    moved from a parent to a child, we added an element to <code>curr</code>. When we move from a child back to its
    parent, we need to remove the element we added from <code>curr</code>. This is the "backtracking" step.</p>
<p><strong>Algorithm</strong></p>
<ol>
    <li>Initialize an answer array <code>ans</code> and an array <code>curr</code> to build permutations with.</li>
    <li>Create a <code>backtrack</code> function that takes <code>curr</code> as an argument:
        <ul>
            <li>If <code>curr.length == nums.length</code>, add a copy of <code>curr</code> to <code>ans</code> and
                return.
            </li>
            <li>Iterate over <code>nums</code>. For each <code>num</code>, if <code>num</code> is not in
                <code>curr</code>, do the following:
                <ul>
                    <li>Add <code>num</code> to <code>curr</code> and call <code>backtrack(curr)</code>, then remove
                        <code>num</code> from <code>curr</code>.
                    </li>
                </ul>
            </li>
        </ul>
    </li>
    <li>Call <code>backtrack</code> with an initially empty <code>curr</code>.</li>
    <li>Return <code>ans</code>.</li>
</ol>
<blockquote>
    <p>Note that we are essentially implementing a DFS traversal of an imaginary tree. The children of a node are all
        the numbers that haven't been used yet.</p>
</blockquote>
<p><strong>Implementation</strong></p>
<pre>
    Java
    <code>
        class Solution {
    public List<List<Integer>> permute(int[] nums) {
        List<List<Integer>> ans = new ArrayList<>();
        backtrack(new ArrayList<>(), ans, nums);
        return ans;
    }

    public void backtrack(List<Integer> curr, List<List<Integer>> ans, int[] nums) {
        if (curr.size() == nums.length) {
            ans.add(new ArrayList<>(curr));
            return;
        }

        for (int num: nums) {
            if (!curr.contains(num)) {
                curr.add(num);
                backtrack(curr, ans, nums);
                curr.remove(curr.size() - 1);
            }
        }
    }
}
    </code>
    C++
    <code>
        class Solution {
public:
    vector<vector<int>> permute(vector<int>& nums) {
        vector<vector<int>> ans;
        vector<int> curr = {};
        backtrack(curr, ans, nums);
        return ans;
    }

    void backtrack(vector<int>& curr, vector<vector<int>>& ans, vector<int>& nums) {
        if (curr.size() == nums.size()) {
            ans.push_back(curr);
            return;
        }

        for (int num: nums) {
            if (find(curr.begin(), curr.end(), num) == curr.end()) {
                curr.push_back(num);
                backtrack(curr, ans, nums);
                curr.pop_back();
            }
        }
    }
};
    </code>
    Python3
    <code>
        class Solution:
    def permute(self, nums: List[int]) -> List[List[int]]:
        def backtrack(curr):
            if len(curr) == len(nums):
                ans.append(curr[:])
                return

            for num in nums:
                if num not in curr:
                    curr.append(num)
                    backtrack(curr)
                    curr.pop()

        ans = []
        backtrack([])
        return ans
    </code>
</pre>
<p><strong>Complexity Analysis</strong></p>
<blockquote>
    <p>Note: most backtracking problems, including this one, have extremely difficult time complexities to derive. Don't
        be discouraged if you can't derive it on your own - most of the time, the analysis requires an esoteric
        understanding of math.</p>
</blockquote>
<p>Given <span class="math math-inline"><span class="katex"><span class="katex-mathml">nn</span><span class="katex-html"
                                                                                                      aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>
    as the length of <code>nums</code>,</p>
<ul>
    <li>
        <p>Time complexity, <strong>what you should say in an interview:</strong> <span class="math math-inline"><span
                class="katex"><span class="katex-mathml">O(n⋅n!)O(n \cdot n!)</span><span class="katex-html"
                                                                                          aria-hidden="true"><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
                class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                class="mbin">⋅</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord mathnormal">n</span><span class="mclose">!)</span></span></span></span></span></p>
        <p>Finding permutations is a <a href="https://en.wikipedia.org/wiki/Permutation" target="_blank">well-studied
            problem in combinatorics</a>. Given a set of length <code>n</code>, the number of permutations is <span
                class="math math-inline"><span class="katex"><span class="katex-mathml">n!n!</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.6944em;"></span><span
                class="mord mathnormal">n</span><span class="mclose">!</span></span></span></span></span> (n factorial).
            There are <span class="math math-inline"><span class="katex"><span class="katex-mathml">nn</span><span
                    class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                   style="height: 0.4306em;"></span><span
                    class="mord mathnormal">n</span></span></span></span></span> options for the first number, <span
                    class="math math-inline"><span class="katex"><span class="katex-mathml">n−1n - 1</span><span
                    class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                   style="height: 0.6667em; vertical-align: -0.0833em;"></span><span
                    class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                    class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                    class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>
            for the second, and so on.</p>
        <p>For each of the <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">n!n!</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">n</span><span
                class="mclose">!</span></span></span></span></span> permutations, we need <span
                class="math math-inline"><span class="katex"><span class="katex-mathml">O(n)O(n)</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
                class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span> work to copy
            <code>curr</code> into the answer. This gives us <span class="math math-inline"><span class="katex"><span
                    class="katex-mathml">O(n⋅n!)O(n \cdot n!)</span><span class="katex-html" aria-hidden="true"><span
                    class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
                    class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                    class="mbin">⋅</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                    class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord mathnormal">n</span><span class="mclose">!)</span></span></span></span></span> work.</p>
    </li>
    <li>
        <p>Time complexity, <strong>better approximation:</strong> <span class="math math-inline"><span
                class="katex"><span class="katex-mathml">O(n2⋅(e⋅Γ(n+1,1)−n!))O(n^2 \cdot (e \cdot \Gamma (n + 1, 1) - n!))</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 1.0641em; vertical-align: -0.25em;"></span><span
                class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
                class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span
                class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
                style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
                class="sizing reset-size6 size3 mtight"><span
                class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace"
                                                                                                   style="margin-right: 0.2222em;"></span><span
                class="mbin">⋅</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mopen">(</span><span class="mord mathnormal">e</span><span class="mspace"
                                                                                  style="margin-right: 0.2222em;"></span><span
                class="mbin">⋅</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord">Γ</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span
                class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace"
                                                                                                       style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord">1</span><span class="mpunct">,</span><span class="mspace"
                                                                        style="margin-right: 0.1667em;"></span><span
                class="mord">1</span><span class="mclose">)</span><span class="mspace"
                                                                        style="margin-right: 0.2222em;"></span><span
                class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord mathnormal">n</span><span class="mclose">!))</span></span></span></span></span></p>
        <p><strong>The analysis used to derive this time complexity is way out of scope for an interview. We have
            included it for the sake of completeness. In an interview, you can use the explanation above while
            explaining that it is an approximation, and then mention that the true time complexity would involve
            calculating the number of nodes in the tree, which is very difficult to do analytically.</strong></p>
        <p>What about the work required to perform the traversal? First, let's determine how many nodes are in the tree.
            A <a href="https://en.wikipedia.org/wiki/Permutation#k-permutations_of_n" target="_blank">k-permutation of
                n</a> is a permutation that doesn't use all <span class="math math-inline"><span class="katex"><span
                    class="katex-mathml">nn</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                    class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>
            elements. The first level in the tree holds all 1-permutations, the second level holds all 2-permutations,
            and so on.</p>
        <p>Thus, the number of nodes in the tree is equal to the sum of the number of k-permutations, where k is in the
            range [1, n]. The number of k-permutations can be calculated as:</p>
        <p><span class="math math-inline"><span class="katex"><span class="katex-mathml">n!(n−k)!\Large{\frac{n!}{(n - k)!}}</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 2.0086em; vertical-align: -0.7468em;"></span><span
                class="mord sizing reset-size6 size8"><span class="mord"><span
                class="mopen nulldelimiter sizing reset-size8 size6"></span><span class="mfrac"><span
                class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8762em;"><span
                style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
                class="sizing reset-size8 size6 mtight"><span class="mord mtight"><span
                class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span
                class="mbin mtight">−</span><span class="mord mathnormal mtight"
                                                  style="margin-right: 0.03148em;">k</span><span class="mclose mtight">)!</span></span></span></span><span
                style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                             style="border-bottom-width: 0.04em;"></span></span><span
                style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
                class="sizing reset-size8 size6 mtight"><span class="mord mtight"><span
                class="mord mathnormal mtight">n</span><span
                class="mclose mtight">!</span></span></span></span></span><span class="vlist-s">​</span></span><span
                class="vlist-r"><span class="vlist"
                                      style="height: 0.5186em;"><span></span></span></span></span></span><span
                class="mclose nulldelimiter sizing reset-size8 size6"></span></span></span></span></span></span></span>
        </p>
        <p>The number of the nodes in the tree is therefore:</p>
        <p><span class="math math-inline"><span class="katex"><span class="katex-mathml">∑k=1nn!(n−k)!\Large{\sum_{k=1}^{n}{\frac{n!}{(n - k)!}}}</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 2.0086em; vertical-align: -0.7468em;"></span><span
                class="mord sizing reset-size6 size8"><span class="mop"><span class="mop op-symbol small-op"
                                                                              style="position: relative; top: 0em;">∑</span><span
                class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"
                                                                                           style="height: 0.7809em;"><span
                style="top: -2.7153em; margin-left: 0em; margin-right: 0.0347em;"><span class="pstrut"
                                                                                        style="height: 3em;"></span><span
                class="sizing reset-size8 size6 mtight"><span class="mord mtight"><span class="mord mathnormal mtight"
                                                                                        style="margin-right: 0.03148em;">k</span><span
                class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span
                style="top: -3.4819em; margin-right: 0.0347em;"><span class="pstrut" style="height: 3em;"></span><span
                class="sizing reset-size8 size6 mtight"><span class="mord mtight"><span
                class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span
                class="vlist-r"><span class="vlist" style="height: 0.2847em;"><span></span></span></span></span></span></span><span
                class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord"><span
                class="mopen nulldelimiter sizing reset-size8 size6"></span><span class="mfrac"><span
                class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8762em;"><span
                style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
                class="sizing reset-size8 size6 mtight"><span class="mord mtight"><span
                class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span
                class="mbin mtight">−</span><span class="mord mathnormal mtight"
                                                  style="margin-right: 0.03148em;">k</span><span class="mclose mtight">)!</span></span></span></span><span
                style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                             style="border-bottom-width: 0.04em;"></span></span><span
                style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
                class="sizing reset-size8 size6 mtight"><span class="mord mtight"><span
                class="mord mathnormal mtight">n</span><span
                class="mclose mtight">!</span></span></span></span></span><span class="vlist-s">​</span></span><span
                class="vlist-r"><span class="vlist"
                                      style="height: 0.5186em;"><span></span></span></span></span></span><span
                class="mclose nulldelimiter sizing reset-size8 size6"></span></span></span></span></span></span></span></span>
        </p>
        <p>This sum is difficult to compute and requires higher-level mathematics. It is equal to:</p>
        <p><span class="math math-inline"><span class="katex"><span class="katex-mathml">e⋅Γ(n+1,1)−1\Large{e \cdot \Gamma (n + 1, 1) - 1}</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 1.44em; vertical-align: -0.36em;"></span><span
                class="mord sizing reset-size6 size8"><span class="mord mathnormal">e</span><span class="mspace"
                                                                                                  style="margin-right: 0.2222em;"></span><span
                class="mbin">⋅</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                class="mord">Γ</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span
                class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace"
                                                                                                       style="margin-right: 0.2222em;"></span><span
                class="mord">1</span><span class="mpunct">,</span><span class="mspace"
                                                                        style="margin-right: 0.1667em;"></span><span
                class="mord">1</span><span class="mclose">)</span><span class="mspace"
                                                                        style="margin-right: 0.2222em;"></span><span
                class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                class="mord">1</span></span></span></span></span></span> where <span class="math math-inline"><span
                class="katex"><span class="katex-mathml">Γ\Large{\Gamma}</span><span class="katex-html"
                                                                                     aria-hidden="true"><span
                class="base"><span class="strut" style="height: 0.984em;"></span><span
                class="mord sizing reset-size6 size8"><span class="mord">Γ</span></span></span></span></span></span> is
            the <a href="https://en.wikipedia.org/wiki/Incomplete_gamma_function" target="_blank">incomplete gamma
                function</a>.</p>
        <p>Using this function, we can empirically determine that the number of nodes in the tree grows faster than
            <span class="math math-inline"><span class="katex"><span class="katex-mathml">n!n!</span><span
                    class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                   style="height: 0.6944em;"></span><span
                    class="mord mathnormal">n</span><span class="mclose">!</span></span></span></span></span> but slower
            than <span class="math math-inline"><span class="katex"><span
                    class="katex-mathml">n⋅n!n \cdot n!</span><span class="katex-html" aria-hidden="true"><span
                    class="base"><span class="strut" style="height: 0.4445em;"></span><span
                    class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                    class="mbin">⋅</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                    class="base"><span class="strut" style="height: 0.6944em;"></span><span
                    class="mord mathnormal">n</span><span class="mclose">!</span></span></span></span></span>.</p>


        <table>
            <thead>
            <tr>
                <th style="text-align: center;">n</th>
                <th style="text-align: center;">n!</th>
                <th style="text-align: center;"><span class="math math-inline"><span class="katex"><span
                        class="katex-mathml">e⋅Γ(n+1,1)−1e \cdot \Gamma (n + 1, 1) - 1</span><span class="katex-html"
                                                                                                   aria-hidden="true"><span
                        class="base"><span class="strut" style="height: 0.4445em;"></span><span class="mord mathnormal">e</span><span
                        class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">⋅</span><span
                        class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
                        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                        class="mord">Γ</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span
                        class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span
                        class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
                        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                        class="mord">1</span><span class="mpunct">,</span><span class="mspace"
                                                                                style="margin-right: 0.1667em;"></span><span
                        class="mord">1</span><span class="mclose">)</span><span class="mspace"
                                                                                style="margin-right: 0.2222em;"></span><span
                        class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                        class="base"><span class="strut" style="height: 0.6444em;"></span><span
                        class="mord">1</span></span></span></span></span></th>
                <th style="text-align: center;">n * n!</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: center;">1</td>
                <td style="text-align: center;">1</td>
                <td style="text-align: center;">1</td>
                <td style="text-align: center;">1</td>
            </tr>
            <tr>
                <td style="text-align: center;">2</td>
                <td style="text-align: center;">2</td>
                <td style="text-align: center;">4</td>
                <td style="text-align: center;">4</td>
            </tr>
            <tr>
                <td style="text-align: center;">3</td>
                <td style="text-align: center;">6</td>
                <td style="text-align: center;">15</td>
                <td style="text-align: center;">18</td>
            </tr>
            <tr>
                <td style="text-align: center;">4</td>
                <td style="text-align: center;">24</td>
                <td style="text-align: center;">64</td>
                <td style="text-align: center;">96</td>
            </tr>
            <tr>
                <td style="text-align: center;">5</td>
                <td style="text-align: center;">120</td>
                <td style="text-align: center;">325</td>
                <td style="text-align: center;">600</td>
            </tr>
            <tr>
                <td style="text-align: center;">6</td>
                <td style="text-align: center;">720</td>
                <td style="text-align: center;">1956</td>
                <td style="text-align: center;">4320</td>
            </tr>
            <tr>
                <td style="text-align: center;">7</td>
                <td style="text-align: center;">5040</td>
                <td style="text-align: center;">13,699</td>
                <td style="text-align: center;">35,280</td>
            </tr>
            <tr>
                <td style="text-align: center;">8</td>
                <td style="text-align: center;">40,320</td>
                <td style="text-align: center;">109,600</td>
                <td style="text-align: center;">322,560</td>
            </tr>
            <tr>
                <td style="text-align: center;">9</td>
                <td style="text-align: center;">362,880</td>
                <td style="text-align: center;">986,409</td>
                <td style="text-align: center;">3,265,920</td>
            </tr>
            <tr>
                <td style="text-align: center;">10</td>
                <td style="text-align: center;">3,628,800</td>
                <td style="text-align: center;">9,864,100</td>
                <td style="text-align: center;">36,288,000</td>
            </tr>
            </tbody>
        </table>
        <br>
        <p>You may be thinking: it grows slower than <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">n⋅n!n \cdot n!</span><span class="katex-html" aria-hidden="true"><span
                class="base"><span class="strut" style="height: 0.4445em;"></span><span class="mord mathnormal">n</span><span
                class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">⋅</span><span class="mspace"
                                                                                                       style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">n</span><span
                class="mclose">!</span></span></span></span></span>, that's great! The work required to copy
            <code>curr</code> into <code>ans</code> would dominate it. Unfortunately, this is not true because the work
            done at each node is not constant. We have a for loop over <code>nums</code>, and each iteration of the loop
            checks if an element is in <code>curr</code>. As such, the work done at each node is approximately <span
                    class="math math-inline"><span class="katex"><span class="katex-mathml">O(n2)O(n^2)</span><span
                    class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                   style="height: 1.0641em; vertical-align: -0.25em;"></span><span
                    class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
                    class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span
                    class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
                    style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut"
                                                                       style="height: 2.7em;"></span><span
                    class="sizing reset-size6 size3 mtight"><span
                    class="mord mtight">2</span></span></span></span></span></span></span></span><span
                    class="mclose">)</span></span></span></span></span>. Because the number of nodes grows faster than
            <span class="math math-inline"><span class="katex"><span class="katex-mathml">n!n!</span><span
                    class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                   style="height: 0.6944em;"></span><span
                    class="mord mathnormal">n</span><span class="mclose">!</span></span></span></span></span>, the work
            done for the traversal grows faster than <span class="math math-inline"><span class="katex"><span
                    class="katex-mathml">n2⋅n!n^2 \cdot n!</span><span class="katex-html" aria-hidden="true"><span
                    class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord"><span
                    class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span
                    class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
                    style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut"
                                                                       style="height: 2.7em;"></span><span
                    class="sizing reset-size6 size3 mtight"><span
                    class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace"
                                                                                                       style="margin-right: 0.2222em;"></span><span
                    class="mbin">⋅</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                    class="base"><span class="strut" style="height: 0.6944em;"></span><span
                    class="mord mathnormal">n</span><span class="mclose">!</span></span></span></span></span>, and it
            becomes the dominating term.</p>
        <p>Wait a second, the <span class="math math-inline"><span class="katex"><span class="katex-mathml">n2n^2</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.8141em;"></span><span
                class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span
                class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
                style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
                class="sizing reset-size6 size3 mtight"><span
                class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>
            work is not done for the final level (the n-permutations) because we immediately return from the function
            after adding <code>curr</code> to the answer. There are <span class="math math-inline"><span
                    class="katex"><span class="katex-mathml">n!n!</span><span class="katex-html"
                                                                              aria-hidden="true"><span
                    class="base"><span class="strut" style="height: 0.6944em;"></span><span
                    class="mord mathnormal">n</span><span class="mclose">!</span></span></span></span></span> nodes in
            the final level, so the number of nodes that go through the <span class="math math-inline"><span
                    class="katex"><span class="katex-mathml">n2n^2</span><span class="katex-html"
                                                                               aria-hidden="true"><span
                    class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord"><span
                    class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span
                    class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
                    style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut"
                                                                       style="height: 2.7em;"></span><span
                    class="sizing reset-size6 size3 mtight"><span
                    class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>
            work is <span class="math math-inline"><span class="katex"><span class="katex-mathml">e⋅Γ(n+1,1)−1−n!e \cdot \Gamma (n + 1, 1) - 1 - n!</span><span
                    class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                   style="height: 0.4445em;"></span><span
                    class="mord mathnormal">e</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                    class="mbin">⋅</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                    class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord">Γ</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span
                    class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span
                    class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut"
                                                                                                          style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord">1</span><span class="mpunct">,</span><span class="mspace"
                                                                            style="margin-right: 0.1667em;"></span><span
                    class="mord">1</span><span class="mclose">)</span><span class="mspace"
                                                                            style="margin-right: 0.2222em;"></span><span
                    class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                    class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span
                    class="mord">1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span
                    class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut"
                                                                                                          style="height: 0.6944em;"></span><span
                    class="mord mathnormal">n</span><span class="mclose">!</span></span></span></span></span>.</p>
        <p>The work done for the traversal is therefore approximately <span class="math math-inline"><span
                class="katex"><span
                class="katex-mathml">n2⋅(e⋅Γ(n+1,1)−n!)n^2 \cdot (e \cdot \Gamma (n + 1, 1) - n!)</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.8141em;"></span><span
                class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span
                class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
                style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
                class="sizing reset-size6 size3 mtight"><span
                class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace"
                                                                                                   style="margin-right: 0.2222em;"></span><span
                class="mbin">⋅</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mopen">(</span><span class="mord mathnormal">e</span><span class="mspace"
                                                                                  style="margin-right: 0.2222em;"></span><span
                class="mbin">⋅</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord">Γ</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span
                class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace"
                                                                                                       style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord">1</span><span class="mpunct">,</span><span class="mspace"
                                                                        style="margin-right: 0.1667em;"></span><span
                class="mord">1</span><span class="mclose">)</span><span class="mspace"
                                                                        style="margin-right: 0.2222em;"></span><span
                class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord mathnormal">n</span><span class="mclose">!)</span></span></span></span></span>. Using a
            script, we can empirically determine that this function grows much faster than <span
                    class="math math-inline"><span class="katex"><span class="katex-mathml">n⋅n!n \cdot n!</span><span
                    class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                   style="height: 0.4445em;"></span><span
                    class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                    class="mbin">⋅</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                    class="base"><span class="strut" style="height: 0.6944em;"></span><span
                    class="mord mathnormal">n</span><span class="mclose">!</span></span></span></span></span>, and thus
            the work for the traversal is the dominating term. This is the "official" time complexity of the approach.
        </p>
        <blockquote>
            <p>Notice that we haven't been wrapping the terms in big O. In terms of big O, the number of nodes would be
                <span class="math math-inline"><span class="katex"><span class="katex-mathml">O(Γ(n+1,1))O(\Gamma (n + 1, 1))</span><span
                        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                       style="height: 1em; vertical-align: -0.25em;"></span><span
                        class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span
                        class="mopen">(</span><span class="mord">Γ</span><span class="mopen">(</span><span
                        class="mord mathnormal">n</span><span class="mspace"
                                                              style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span
                        class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
                        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                        class="mord">1</span><span class="mpunct">,</span><span class="mspace"
                                                                                style="margin-right: 0.1667em;"></span><span
                        class="mord">1</span><span class="mclose">))</span></span></span></span></span> because the
                <span class="math math-inline"><span class="katex"><span class="katex-mathml">ee</span><span
                        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                       style="height: 0.4306em;"></span><span
                        class="mord mathnormal">e</span></span></span></span></span> drops as a constant. We also
                determined that the number of nodes grows faster than <span class="math math-inline"><span
                        class="katex"><span class="katex-mathml">n!n!</span><span class="katex-html" aria-hidden="true"><span
                        class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">n</span><span
                        class="mclose">!</span></span></span></span></span>, so we would drop the <span
                        class="math math-inline"><span class="katex"><span class="katex-mathml">−n!- n!</span><span
                        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                       style="height: 0.7778em; vertical-align: -0.0833em;"></span><span
                        class="mord">−</span><span class="mord mathnormal">n</span><span class="mclose">!</span></span></span></span></span>
                as well using normal big O rules, and the result would be <span class="math math-inline"><span
                        class="katex"><span
                        class="katex-mathml">O(n2⋅Γ(n+1,1))O(n^2 \cdot \Gamma (n + 1, 1))</span><span class="katex-html"
                                                                                                      aria-hidden="true"><span
                        class="base"><span class="strut" style="height: 1.0641em; vertical-align: -0.25em;"></span><span
                        class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span
                        class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span
                        class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist"
                                                                                          style="height: 0.8141em;"><span
                        style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
                        class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span
                        class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">⋅</span><span
                        class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
                        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                        class="mord">Γ</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span
                        class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span
                        class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
                        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                        class="mord">1</span><span class="mpunct">,</span><span class="mspace"
                                                                                style="margin-right: 0.1667em;"></span><span
                        class="mord">1</span><span class="mclose">))</span></span></span></span></span> for the
                traversal.</p>
            <p>There is some nuance here. First of all, notice that <span class="math math-inline"><span
                    class="katex"><span class="katex-mathml">Γ(n+1,1)≈n!\Gamma (n + 1, 1) \approx n!</span><span
                    class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                   style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord">Γ</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span
                    class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span
                    class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut"
                                                                                                          style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord">1</span><span class="mpunct">,</span><span class="mspace"
                                                                            style="margin-right: 0.1667em;"></span><span
                    class="mord">1</span><span class="mclose">)</span><span class="mspace"
                                                                            style="margin-right: 0.2778em;"></span><span
                    class="mrel">≈</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
                    class="base"><span class="strut" style="height: 0.6944em;"></span><span
                    class="mord mathnormal">n</span><span class="mclose">!</span></span></span></span></span>. When
                making comparisons, the <span class="math math-inline"><span class="katex"><span
                        class="katex-mathml">ee</span><span class="katex-html" aria-hidden="true"><span
                        class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">e</span></span></span></span></span>
                term is significant. In fact, dropping the <span class="math math-inline"><span class="katex"><span
                        class="katex-mathml">ee</span><span class="katex-html" aria-hidden="true"><span
                        class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">e</span></span></span></span></span>
                term leads <span class="math math-inline"><span class="katex"><span class="katex-mathml">Γ(n+1,1)−n!\Gamma (n + 1, 1) - n!</span><span
                        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                       style="height: 1em; vertical-align: -0.25em;"></span><span
                        class="mord">Γ</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span
                        class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span
                        class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span
                        class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                        class="mord">1</span><span class="mpunct">,</span><span class="mspace"
                                                                                style="margin-right: 0.1667em;"></span><span
                        class="mord">1</span><span class="mclose">)</span><span class="mspace"
                                                                                style="margin-right: 0.2222em;"></span><span
                        class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                        class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">n</span><span
                        class="mclose">!</span></span></span></span></span> to be negative for many values of <span
                        class="math math-inline"><span class="katex"><span class="katex-mathml">nn</span><span
                        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                       style="height: 0.4306em;"></span><span
                        class="mord mathnormal">n</span></span></span></span></span>. Second, it is too much of a
                simplification to say the work done at each node is <span class="math math-inline"><span
                        class="katex"><span class="katex-mathml">O(n2)O(n^2)</span><span class="katex-html"
                                                                                         aria-hidden="true"><span
                        class="base"><span class="strut" style="height: 1.0641em; vertical-align: -0.25em;"></span><span
                        class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span
                        class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span
                        class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist"
                                                                                          style="height: 0.8141em;"><span
                        style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
                        class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span
                        class="mclose">)</span></span></span></span></span> since the cost of checking if a number is in
                <code>curr</code> is a function of the depth.</p>
            <p>The truth is, all this analysis is undoubtedly flawed mathematically as we are making assumptions and not
                strictly following the rules of big O. However, it still makes for an interesting analysis that helps us
                understand the nature of the problem better.</p>
        </blockquote>
        <p>We're already come this far, let's delve deeper! What if we used a set as well, so we had <code>backtrack(curr,
            used)</code> where <code>used</code> is a set of the elements in <code>curr</code>. Then, we can reduce the
            work done at each node by a factor of <span class="math math-inline"><span class="katex"><span
                    class="katex-mathml">nn</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                    class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>.
            In that case, the work for the traversal would be approximately <span class="math math-inline"><span
                    class="katex"><span
                    class="katex-mathml">n⋅(e⋅Γ(n+1,1)−n!)n \cdot (e \cdot \Gamma (n + 1, 1) - n!)</span><span
                    class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                   style="height: 0.4445em;"></span><span
                    class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                    class="mbin">⋅</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                    class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mopen">(</span><span class="mord mathnormal">e</span><span class="mspace"
                                                                                      style="margin-right: 0.2222em;"></span><span
                    class="mbin">⋅</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                    class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord">Γ</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span
                    class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span
                    class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut"
                                                                                                          style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord">1</span><span class="mpunct">,</span><span class="mspace"
                                                                            style="margin-right: 0.1667em;"></span><span
                    class="mord">1</span><span class="mclose">)</span><span class="mspace"
                                                                            style="margin-right: 0.2222em;"></span><span
                    class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                    class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord mathnormal">n</span><span class="mclose">!)</span></span></span></span></span>.</p>
        <p>Believe it or not, this function appears to grow at the <strong>exact same rate</strong> as <span
                class="math math-inline"><span class="katex"><span class="katex-mathml">n⋅n!n \cdot n!</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.4445em;"></span><span
                class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2222em;"></span><span
                class="mbin">⋅</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
                class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">n</span><span
                class="mclose">!</span></span></span></span></span>. For <span class="math math-inline"><span
                class="katex"><span class="katex-mathml">n&gt;5n &gt; 5</span><span class="katex-html"
                                                                                    aria-hidden="true"><span
                class="base"><span class="strut" style="height: 0.5782em; vertical-align: -0.0391em;"></span><span
                class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
                class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span
                class="base"><span class="strut" style="height: 0.6444em;"></span><span
                class="mord">5</span></span></span></span></span>, we have:</p>
        <p><span class="math math-inline"><span class="katex"><span class="katex-mathml">n⋅n!n⋅(e⋅Γ(n+1,1)−n!)≈0.582\Large{\frac{n \cdot n!}{n \cdot (e \cdot \Gamma (n + 1, 1) - n!)}} \approx 0.582</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 2.0086em; vertical-align: -0.7468em;"></span><span
                class="mord sizing reset-size6 size8"><span class="mord"><span
                class="mopen nulldelimiter sizing reset-size8 size6"></span><span class="mfrac"><span
                class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8762em;"><span
                style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span
                class="sizing reset-size8 size6 mtight"><span class="mord mtight"><span
                class="mord mathnormal mtight">n</span><span class="mbin mtight">⋅</span><span
                class="mopen mtight">(</span><span class="mord mathnormal mtight">e</span><span
                class="mbin mtight">⋅</span><span class="mord mtight">Γ</span><span class="mopen mtight">(</span><span
                class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span
                class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span><span
                class="mclose mtight">)</span><span class="mbin mtight">−</span><span
                class="mord mathnormal mtight">n</span><span class="mclose mtight">!)</span></span></span></span><span
                style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line"
                                                                                             style="border-bottom-width: 0.04em;"></span></span><span
                style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span
                class="sizing reset-size8 size6 mtight"><span class="mord mtight"><span
                class="mord mathnormal mtight">n</span><span class="mbin mtight">⋅</span><span
                class="mord mathnormal mtight">n</span><span
                class="mclose mtight">!</span></span></span></span></span><span class="vlist-s">​</span></span><span
                class="vlist-r"><span class="vlist"
                                      style="height: 0.5186em;"><span></span></span></span></span></span><span
                class="mclose nulldelimiter sizing reset-size8 size6"></span></span></span><span class="mspace"
                                                                                                 style="margin-right: 0.2778em;"></span><span
                class="mrel sizing reset-size6 size8">≈</span><span class="mspace"
                                                                    style="margin-right: 0.2778em;"></span></span><span
                class="base"><span class="strut" style="height: 0.928em;"></span><span
                class="mord sizing reset-size6 size8">0.582</span></span></span></span></span></p>
        <p>In which case all the analysis we just did was pointless because the work done to add <code>curr</code> to
            the answer would be enough to determine the time complexity.</p>
    </li>
    <li>
        <p>Space complexity: <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">O(n)O(n)</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal"
                                                                                         style="margin-right: 0.02778em;">O</span><span
                class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>
        </p>
        <p>We don't count the answer as part of the space complexity. The extra space we use here is for
            <code>curr</code> and the recursion call stack. The depth of the call stack is equal to the length of <code>curr</code>,
            which is limited to <span class="math math-inline"><span class="katex"><span
                    class="katex-mathml">nn</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                    class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>.
        </p>
        <p>Fortunately this analysis was simpler than the time complexity one.</p>
    </li>
</ul>
<br>
<hr>
</body>
</html>