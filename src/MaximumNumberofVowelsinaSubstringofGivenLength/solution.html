<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Maximum Number of Vowels in a Substring of Given Length - Solution</title>
</head>
<body>
<h2 id="solution">Solution</h2>
<hr>
<h3 id="overview">Overview</h3>
<p>As shown in the picture below, given <code>s = abciiidef</code> and <code>k = 3</code>, we can find all substrings of
    length <code>k = 3</code> and count the number of vowel letters in each of them.</p>
<p><img src="intro.png" alt="img"></p>
<hr>
<h3 id="approach-sliding-window">Approach: Sliding Window</h3>
<h4 id="intuition">Intuition</h4>
<p>We can use a sliding window to solve this problem. The term "subarray of length k" in the problem is actually
    equivalent to "window of length k". Since the length of the window (substring) is fixed as <code>k</code>, we only
    need to create a window at the leftmost side of the string <code>s</code>, and move it one character to the right
    each time. This way, the window can cover all subarrays of length <code>k</code>. Then, we simply count the number
    of vowels in each window and record the maximum count according to the requirement. As shown in the picture below,
    the window of length <code>3</code> is represented by the red box.</p>
<p><img src="1.png" alt="img"></p>
<p>The problem is that if we count the number of vowels in each window by iteration every time, it would result in a
    time complexity of <span class="math math-inline"><span class="katex"><span class="katex-mathml">O(length_of_s⋅k)O(\text{length\_of\_s}\cdot k)</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 1.06em; vertical-align: -0.31em;"></span><span
            class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
            class="mord text"><span class="mord">length_of_s</span></span><span class="mspace"
                                                                                style="margin-right: 0.2222em;"></span><span
            class="mbin">⋅</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span
            class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
            class="mord mathnormal" style="margin-right: 0.03148em;">k</span><span class="mclose">)</span></span></span></span></span>
    which could be expensive. However, by observation, we can see that two adjacent windows only differ by two
    characters. When we move the index of the right boundary of the window from <code>i - 1</code> to <code>i</code>,
    only one character is added to the window while one is removed, Therefore, we can represent the new window by
    keeping track of the changes between adjacent windows</p>
<blockquote>
    <p>Let <code>count</code> be the number of vowels in the current window <code>[i - k, i - 1]</code>. If we move the
        window one character to the right as <code>[i - k + 1, i]</code>.</p>
    <ul>
        <li>If the newly added character <code>s[i]</code> is a vowel, we increase <code>count</code> by 1.</li>
        <li>If the newly removed character <code>s[i - k]</code> is a vowel, we reduce <code>count</code> by 1.</li>
    </ul>
</blockquote>
<p><img src="2.png" alt="img"></p>
<p>That's it. While moving the window, we keep track of the changes between adjacent windows and count the number of
    vowels <code>count</code> in the current window as shown above, and update <code>answer</code> as the maximum <code>count</code>
    we have encountered.</p>
<br>
<h4 id="algorithm">Algorithm</h4>
<ol>
    <li>
        <p>Build a hash set <code>vowels</code> that contains all 5 vowel letters, initialize <code>answer</code> as 0.
        </p>
    </li>
    <li>
        <p>Record the number of vowel letters in the first <code>k</code> letters as <code>count</code>.</p>
    </li>
    <li>
        <p>Now we move the "window" to the right, let <code>i</code> be the index of its right boundary:</p>
        <ul>
            <li>If <code>s[i]</code> is in <code>vowels</code>, increment <code>count</code> by <code>1.</code></li>
            <li>If <code>s[i - k]</code> is in <code>vowels</code>, reduce <code>count</code> by <code>1.</code></li>
            <li>Update <code>answer</code> as the maximum <code>count</code> we have encountered.</li>
        </ul>
    </li>
    <li>
        <p>Return <code>answer</code> after the iteration ends.</p>
    </li>
</ol>
<h4 id="implementation">Implementation</h4>
<pre>
    Java
    <code>
        class Solution {
    public int maxVowels(String s, int k) {
        Set<Character> vowels = Set.of('a', 'e', 'i', 'o', 'u');

        // Build the window of size k, count the number of vowels it contains.
        int count = 0;
        for (int i = 0; i < k; i++) {
            count += vowels.contains(s.charAt(i)) ? 1 : 0;
        }
        int answer = count;

        // Slide the window to the right, focus on the added character and the
        // removed character and update "count". Record the largest "count".
        for (int i = k; i < s.length(); i++) {
            count += vowels.contains(s.charAt(i)) ? 1 : 0;
            count -= vowels.contains(s.charAt(i - k)) ? 1 : 0;
            answer = Math.max(answer, count);
        }

        return answer;
    }
}
    </code>
    C++
    <code>
        class Solution {
public:
    int maxVowels(string s, int k) {
        unordered_set<char> vowels{'a', 'e', 'i', 'o', 'u'};

        // Build the window of size k, count the number of vowels it contains.
        int count = 0;
        for (int i = 0; i < k; i++) {
            count += vowels.count(s[i]);
        }
        int answer = count;

        // Slide the window to the right, focus on the added character and the
        // removed character and update "count". Record the largest "count".
        for (int i = k; i < s.length(); i++) {
            count += vowels.count(s[i]) - vowels.count(s[i - k]);
            answer = max(answer, count);
        }

        return answer;
    }
};
    </code>
    Python3
    <code>
        class Solution:
    def maxVowels(self, s: str, k: int) -> int:
        vowels = {'a', 'e', 'i', 'o', 'u'}

        # Build the window of size k, count the number of vowels it contains.
        count = 0
        for i in range(k):
            count += int(s[i] in vowels)
        answer = count

        # Slide the window to the right, focus on the added character and the
        # removed character and update "count". Record the largest "count".
        for i in range(k, len(s)):
            count += int(s[i] in vowels)
            count -= int(s[i - k] in vowels)
            answer = max(answer, count)

        return answer
    </code>
</pre>
<h4 id="complexity-analysis">Complexity Analysis</h4>
<p>Let <span class="math math-inline"><span class="katex"><span class="katex-mathml">nn</span><span class="katex-html"
                                                                                                    aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>
    be the length of the input string <code>s</code>.</p>
<ul>
    <li>
        <p>Time complexity: <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">O(n)O(n)</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal"
                                                                                         style="margin-right: 0.02778em;">O</span><span
                class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>
        </p>
        <ul>
            <li>We apply 1 iteration over <code>s</code>.</li>
            <li>At each step in the iteration, we check if the newly added character and the removed character are in
                <code>vowels</code>, which takes constant time.
            </li>
            <li>To sum up, the time complexity is <span class="math math-inline"><span class="katex"><span
                    class="katex-mathml">O(n)O(n)</span><span class="katex-html" aria-hidden="true"><span
                    class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
                    class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>.
            </li>
        </ul>
    </li>
    <li>
        <p>Space complexity: <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">O(1)O(1)</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal"
                                                                                         style="margin-right: 0.02778em;">O</span><span
                class="mopen">(</span><span class="mord">1</span><span
                class="mclose">)</span></span></span></span></span></p>
        <ul>
            <li>We need to record several parameters, <code>count</code> and <code>answer</code>, which takes <span
                    class="math math-inline"><span class="katex"><span class="katex-mathml">O(1)O(1)</span><span
                    class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                   style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
                    class="mord">1</span><span class="mclose">)</span></span></span></span></span> space.
            </li>
            <li>The set <code>vowels</code> contains 5 vowel letters which takes <span class="math math-inline"><span
                    class="katex"><span class="katex-mathml">O(1)O(1)</span><span class="katex-html" aria-hidden="true"><span
                    class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
                    class="mord">1</span><span class="mclose">)</span></span></span></span></span> space.
            </li>
        </ul>
    </li>
</ul>
<br>
</body>
</html>