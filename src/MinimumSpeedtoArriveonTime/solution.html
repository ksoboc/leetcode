<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Minimum Speed to Arrive on Time - Solution</title>
</head>
<body>
<h2 id="solution">Minimum Speed to Arrive on Time - Solution</h2>
<h4 id="approach-binary-search">Approach: Binary Search</h4>
<p><strong>Intuition</strong></p>
<p>There are <span class="math math-inline"><span class="katex"><span class="katex-mathml">NN</span><span
        class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                       style="height: 0.6833em;"></span><span
        class="mord mathnormal" style="margin-right: 0.10903em;">N</span></span></span></span></span> trains that we
    need to take in order; the <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">ithi^{th}</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.8491em;"></span><span class="mord"><span
            class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span
            class="vlist" style="height: 0.8491em;"><span style="top: -3.063em; margin-right: 0.05em;"><span
            class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span
            class="mord mtight"><span class="mord mathnormal mtight">t</span><span
            class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span></span></span></span></span></span>
    train will ride for <code>dist[i]</code> distance. We need to complete this journey, i.e. ride all these trains
    within <code>hour</code> time; <code>hour</code> is a decimal number representing the amount of time we have. We
    need to return the minimum positive speed integer that is required. One more constraint we have is that each train
    will depart at an integer hour, so if we completed our <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">1st1^{st}</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.7936em;"></span><span class="mord"><span class="mord">1</span><span
            class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist"
                                                                              style="height: 0.7936em;"><span
            style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span
            class="mord mathnormal mtight">s</span><span
            class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span></span></span></span></span></span>
    ride at, say <code>2.4</code> hours, then we can only start riding the next train at <span class="math math-inline"><span
            class="katex"><span class="katex-mathml">3rd3^{rd}</span><span class="katex-html" aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.8491em;"></span><span class="mord"><span
            class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist"
                                                                                                         style="height: 0.8491em;"><span
            style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight"
                                                                                    style="margin-right: 0.02778em;">r</span><span
            class="mord mathnormal mtight">d</span></span></span></span></span></span></span></span></span></span></span></span></span>
    hour.</p>
<p>One hint in the problem description is that the answer speed will not exceed <span class="math math-inline"><span
        class="katex"><span class="katex-mathml">10710^7</span><span class="katex-html" aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord">1</span><span class="mord"><span
        class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist"
                                                                                                     style="height: 0.8141em;"><span
        style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
        class="sizing reset-size6 size3 mtight"><span
        class="mord mtight">7</span></span></span></span></span></span></span></span></span></span></span></span>. The
    first naive approach we can apply is to do an exhaustive search over all the possible speeds we have. We can iterate
    from <span class="math math-inline"><span class="katex"><span class="katex-mathml">11</span><span class="katex-html"
                                                                                                      aria-hidden="true"><span
            class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>
    to <span class="math math-inline"><span class="katex"><span class="katex-mathml">10710^7</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.8141em;"></span><span
            class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span
            class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
            style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span
            class="mord mtight">7</span></span></span></span></span></span></span></span></span></span></span></span>,
    and the first number that can lead us to complete the journey within <code>hour</code> will be our answer. But how
    can we find out if some speed can make us complete the journey within the constraint time? We can easily find the
    time required for individual rides for each train, and then summing them up will give us the total time required. If
    this total time is less than <code>hour</code> then it could be a possible answer; otherwise, not. This approach, as
    we can observe, is not efficient; we need to iterate over the whole search space and then iterate over every train
    to find the total time.</p>
<p>Can we somehow reduce our search space? Let's say the time required with speed <code>s</code> is <code>t</code>; then
    it can be easily proved that the time required with a speed greater than <code>s</code> will always be less than or
    equal to <code>t</code>. In other words, a higher speed will always require less or equal time. This implies that if
    for a speed <code>s</code> the time required is less than the time needed <code>hour</code>, then we don't need to
    look for the speeds greater than <code>s</code> as we need the smallest speed possible, in this case, our search
    space should reduce down to left side of <code>s</code>, i.e. speeds less than <code>s</code>.</p>
<p><img src="1870A.png" alt="fig"></p>
<p>This theory leads us to think of binary search. We will check for the speed in the middle of our search space, and if
    that is within <code>hour</code> time, our search is reduced to the left half of the current space, and if the time
    is more than <code>hour</code>, then the search space will change to the right half of the current space. This way,
    we will always be able to reduce our search space by half at every iteration.</p>
<p><strong>Algorithm</strong></p>
<ol>
    <li>
        <p>Initialize three variables <code>left</code>, <code>right</code> and <code>minSpeed</code>.</p>
        <p>i. <code>left</code> is the left end of our initial search space; hence it should be initialized to
            <code>1</code>.</p>
        <p>ii <code>right</code> is the right end of our initial search space; hence initialize it to <span
                class="math math-inline"><span class="katex"><span class="katex-mathml">10710^7</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.8141em;"></span><span
                class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span
                class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
                style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
                class="sizing reset-size6 size3 mtight"><span
                class="mord mtight">7</span></span></span></span></span></span></span></span></span></span></span></span>.
        </p>
        <p>iii. <code>minSpeed</code> is the minimum speed required; this is the answer to our problem. Initialize it to
            <code>-1</code>.</p>
    </li>
    <li>
        <p>Do the following while <code>left &lt;= right</code>:</p>
        <p>i. Find the middle of the current search space as <code>mid</code>.</p>
        <p>ii. Find the time required with speed <code>mid</code>. Add all the individual time for each train ride; note
            that for all the rides except the last one, we need to round off the decimal to the next integer as we can
            start the next train only at an integer hour. The last ride, however, can end at a decimal.</p>
        <p>iii. If the time required is less than or equal to <code>hour</code>, it implies the <code>mid</code> could
            be our answer. Hence store it in the variable <code>minSpeed</code> and shift the search space to the left
            of <code>mid</code>.</p>
        <p>iv. If the time required is more than <code>hour</code>, then <code>mid</code> as well as the integers left
            of it cannot be the answer. Hence shift the search space to the right of <code>mid</code>.</p>
    </li>
    <li>
        <p>Return <code>minSpeed</code>.</p>
    </li>
</ol>
<p><strong>Implementation</strong></p>
<pre>
    Java
    <code>
        class Solution {
    double timeRequired(int[] dist, int speed) {
        double time = 0.0;
        for (int i = 0 ; i < dist.length; i++) {
            double t = (double) dist[i] / (double) speed;
            // Round off to the next integer, if not the last ride.
            time += (i == dist.length - 1 ? t : Math.ceil(t));
        }
        return time;
    }

    public int minSpeedOnTime(int[] dist, double hour) {
        int left = 1;
        int right = 10000000;;
        int minSpeed = -1;

        while (left <= right) {
            int mid = (left + right) / 2;

            // Move to the left half.
            if (timeRequired(dist, mid) <= hour) {
                minSpeed = mid;
                right = mid - 1;
            } else {
                // Move to the right half.
                left = mid + 1;
            }
        }
        return minSpeed;
    }
}
    </code>
    C++
    <code>
        class Solution {
public:
    double timeRequired(vector<int>& dist, int speed) {
        double time = 0.0;
        for (int i = 0 ; i < dist.size(); i++) {
            double t = (double) dist[i] / (double) speed;
            // Round off to the next integer, if not the last ride.
            time += (i == dist.size() - 1 ? t : ceil(t));
        }
        return time;
    }

    int minSpeedOnTime(vector<int>& dist, double hour) {
        int left = 1;
        int right = 1e7;
        int minSpeed = -1;

        while (left <= right) {
            int mid = (left + right) / 2;

            // Move to the left half.
            if (timeRequired(dist, mid) <= hour) {
                minSpeed = mid;
                right = mid - 1;
            } else {
                // Move to the right half.
                left = mid + 1;
            }
        }
        return minSpeed;
    }
};
    </code>
</pre>
<p><strong>Complexity Analysis</strong></p>
<p>Here, <span class="math math-inline"><span class="katex"><span class="katex-mathml">NN</span><span class="katex-html"
                                                                                                      aria-hidden="true"><span
        class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal"
                                                                                style="margin-right: 0.10903em;">N</span></span></span></span></span>
    is the number of rides, and <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">KK</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal"
                                                                 style="margin-right: 0.07153em;">K</span></span></span></span></span>
    is the size of the search space. For this problem, <span class="math math-inline"><span class="katex"><span
            class="katex-mathml">KK</span><span class="katex-html" aria-hidden="true"><span class="base"><span
            class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal"
                                                                 style="margin-right: 0.07153em;">K</span></span></span></span></span>
    is equal to <span class="math math-inline"><span class="katex"><span class="katex-mathml">10710^7</span><span
            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                           style="height: 0.8141em;"></span><span
            class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span
            class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span
            style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span
            class="sizing reset-size6 size3 mtight"><span
            class="mord mtight">7</span></span></span></span></span></span></span></span></span></span></span></span>.
</p>
<ul>
    <li>
        <p>Time complexity: <span class="math math-inline"><span class="katex"><span class="katex-mathml">O(Nlog⁡K)O(N \log K)</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 1em; vertical-align: -0.25em;"></span><span
                class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
                class="mord mathnormal" style="margin-right: 0.10903em;">N</span><span class="mspace"
                                                                                       style="margin-right: 0.1667em;"></span><span
                class="mop">lo<span style="margin-right: 0.01389em;">g</span></span><span class="mspace"
                                                                                          style="margin-right: 0.1667em;"></span><span
                class="mord mathnormal" style="margin-right: 0.07153em;">K</span><span
                class="mclose">)</span></span></span></span></span></p>
        <p>After each iteration, the search space gets reduced to half; hence the while loop will take <span
                class="math math-inline"><span class="katex"><span class="katex-mathml">log⁡K\log K</span><span
                class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                               style="height: 0.8889em; vertical-align: -0.1944em;"></span><span
                class="mop">lo<span style="margin-right: 0.01389em;">g</span></span><span class="mspace"
                                                                                          style="margin-right: 0.1667em;"></span><span
                class="mord mathnormal" style="margin-right: 0.07153em;">K</span></span></span></span></span>
            operations. For each such operation, we need to call the <code>timeRequired</code> function, which takes
            <span class="math math-inline"><span class="katex"><span class="katex-mathml">O(N)O(N)</span><span
                    class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                   style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
                    class="mord mathnormal" style="margin-right: 0.10903em;">N</span><span
                    class="mclose">)</span></span></span></span></span> time. Therefore, the total time complexity
            equals <span class="math math-inline"><span class="katex"><span
                    class="katex-mathml">O(Nlog⁡K)O(N \log K)</span><span class="katex-html" aria-hidden="true"><span
                    class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span
                    class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span
                    class="mord mathnormal" style="margin-right: 0.10903em;">N</span><span class="mspace"
                                                                                           style="margin-right: 0.1667em;"></span><span
                    class="mop">lo<span style="margin-right: 0.01389em;">g</span></span><span class="mspace"
                                                                                              style="margin-right: 0.1667em;"></span><span
                    class="mord mathnormal" style="margin-right: 0.07153em;">K</span><span
                    class="mclose">)</span></span></span></span></span>.</p>
    </li>
    <li>
        <p>Space complexity: <span class="math math-inline"><span class="katex"><span
                class="katex-mathml">O(1)O(1)</span><span class="katex-html" aria-hidden="true"><span class="base"><span
                class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal"
                                                                                         style="margin-right: 0.02778em;">O</span><span
                class="mopen">(</span><span class="mord">1</span><span
                class="mclose">)</span></span></span></span></span></p>
        <p>No extra space is required other than the three variables. Hence the space complexity is constant.<br>
            <br></p>
    </li>
</ul>
<hr>
</body>
</html>